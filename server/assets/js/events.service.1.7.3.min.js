/*! For license information please see events.service.1.7.3.min.js.LICENSE.txt */
(()=>{var e={536:e=>{e.exports={MESSAGE_TYPES:{AM_I_ALIVE:"am_i_alive",FILE_UPDATE:"file_update",CURRENT_OPERATIONS:"current_op",NEW_CAMERA_IMAGE:"new_camera_image"}}},943:function(e){var t;t=function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.css=t.deepExtend=t.animationEndEvents=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.inArray=function(e,t,n){var o=void 0;if(n){for(o in t)if(t.hasOwnProperty(o)&&t[o]===e)return!0}else for(o in t)if(t.hasOwnProperty(o)&&t[o]===e)return!0;return!1},t.stopPropagation=function(e){void 0!==(e=e||window.event).stopPropagation?e.stopPropagation():e.cancelBubble=!0},t.generateID=function(){return"noty_"+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")+"_"+"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},t.outerHeight=function(e){var t=e.offsetHeight,n=window.getComputedStyle(e);return t+(parseInt(n.marginTop)+parseInt(n.marginBottom))},t.addListener=s,t.hasClass=i,t.addClass=function(e,t){var n=c(e),o=n+t;i(n,t)||(e.className=o.substring(1))},t.removeClass=function(e,t){var n=c(e),o=void 0;i(e,t)&&(o=n.replace(" "+t+" "," "),e.className=o.substring(1,o.length-1))},t.remove=a,t.classList=c,t.visibilityChangeFlow=function(){var e=void 0,t=void 0;function n(){r.PageHidden?setTimeout((function(){Object.keys(r.Store).forEach((function(e){r.Store.hasOwnProperty(e)&&r.Store[e].options.visibilityControl&&r.Store[e].stop()}))}),100):setTimeout((function(){Object.keys(r.Store).forEach((function(e){r.Store.hasOwnProperty(e)&&r.Store[e].options.visibilityControl&&r.Store[e].resume()})),r.queueRenderAll()}),100)}void 0!==document.hidden?(e="hidden",t="visibilitychange"):void 0!==document.msHidden?(e="msHidden",t="msvisibilitychange"):void 0!==document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange"),t&&s(document,t,(function(){r.PageHidden=document[e],n()})),s(window,"blur",(function(){r.PageHidden=!0,n()})),s(window,"focus",(function(){r.PageHidden=!1,n()}))},t.createAudioElements=function(e){if(e.hasSound){var t=document.createElement("audio");e.options.sounds.sources.forEach((function(e){var n=document.createElement("source");n.src=e,n.type="audio/"+e.match(/\.([^.]+)$/)[1],t.appendChild(n)})),e.barDom?e.barDom.appendChild(t):document.querySelector("body").appendChild(t),t.volume=e.options.sounds.volume,e.soundPlayed||(t.play(),e.soundPlayed=!0),t.onended=function(){a(t)}}};var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));function s(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t=t.split(" ");for(var r=0;r<t.length;r++)document.addEventListener?e.addEventListener(t[r],n,o):document.attachEvent&&e.attachEvent("on"+t[r],n)}function i(e,t){return("string"==typeof e?e:c(e)).indexOf(" "+t+" ")>=0}function a(e){e.parentNode&&e.parentNode.removeChild(e)}function c(e){return(" "+(e&&e.className||"")+" ").replace(/\s+/gi," ")}t.animationEndEvents="webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",t.deepExtend=function e(t){t=t||{};for(var n=1;n<arguments.length;n++){var r=arguments[n];if(r)for(var s in r)r.hasOwnProperty(s)&&(Array.isArray(r[s])?t[s]=r[s]:"object"===o(r[s])&&null!==r[s]?t[s]=e(t[s],r[s]):t[s]=r[s])}return t},t.css=function(){var e=["Webkit","O","Moz","ms"],t={};function n(n,o,r){var s;s=(s=o).replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(e,t){return t.toUpperCase()})),o=t[s]||(t[s]=function(t){var n=document.body.style;if(t in n)return t;for(var o=e.length,r=t.charAt(0).toUpperCase()+t.slice(1),s=void 0;o--;)if((s=e[o]+r)in n)return s;return t}(s)),n.style[o]=r}return function(e,t){var o=arguments,r=void 0,s=void 0;if(2===o.length)for(r in t)t.hasOwnProperty(r)&&void 0!==(s=t[r])&&t.hasOwnProperty(r)&&n(e,r,s);else n(e,o[1],o[2])}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Defaults=t.Store=t.Queues=t.DefaultMaxVisible=t.docTitle=t.DocModalCount=t.PageHidden=void 0,t.getQueueCounts=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global",t=0,n=a;return c.hasOwnProperty(e)&&(n=c[e].maxVisible,Object.keys(l).forEach((function(n){l[n].options.queue!==e||l[n].closed||t++}))),{current:t,maxVisible:n}},t.addToQueue=function(e){c.hasOwnProperty(e.options.queue)||(c[e.options.queue]={maxVisible:a,queue:[]}),c[e.options.queue].queue.push(e)},t.removeFromQueue=function(e){if(c.hasOwnProperty(e.options.queue)){var t=[];Object.keys(c[e.options.queue].queue).forEach((function(n){c[e.options.queue].queue[n].id!==e.id&&t.push(c[e.options.queue].queue[n])})),c[e.options.queue].queue=t}},t.queueRender=u,t.queueRenderAll=function(){Object.keys(c).forEach((function(e){u(e)}))},t.ghostFix=function(e){var t=o.generateID("ghost"),n=document.createElement("div");n.setAttribute("id",t),o.css(n,{height:o.outerHeight(e.barDom)+"px"}),e.barDom.insertAdjacentHTML("afterend",n.outerHTML),o.remove(e.barDom),n=document.getElementById(t),o.addClass(n,"noty_fix_effects_height"),o.addListener(n,o.animationEndEvents,(function(){o.remove(n)}))},t.build=function(e){!function(e){if(e.options.container)e.layoutDom=document.querySelector(e.options.container);else{var t="noty_layout__"+e.options.layout;e.layoutDom=document.querySelector("div#"+t),e.layoutDom||(e.layoutDom=document.createElement("div"),e.layoutDom.setAttribute("id",t),e.layoutDom.setAttribute("role","alert"),e.layoutDom.setAttribute("aria-live","polite"),o.addClass(e.layoutDom,"noty_layout"),document.querySelector("body").appendChild(e.layoutDom))}}(e);var t='<div class="noty_body">'+e.options.text+"</div>"+function(e){if(d(e)){var t=document.createElement("div");return o.addClass(t,"noty_buttons"),Object.keys(e.options.buttons).forEach((function(n){t.appendChild(e.options.buttons[n].dom)})),e.options.buttons.forEach((function(e){t.appendChild(e.dom)})),t.outerHTML}return""}(e)+'<div class="noty_progressbar"></div>';e.barDom=document.createElement("div"),e.barDom.setAttribute("id",e.id),o.addClass(e.barDom,"noty_bar noty_type__"+e.options.type+" noty_theme__"+e.options.theme),e.barDom.innerHTML=t,h(e,"onTemplate")},t.hasButtons=d,t.handleModal=function(e){var n,s;e.options.modal&&(0===r&&(n=document.querySelector("body"),s=document.createElement("div"),o.addClass(s,"noty_modal"),n.insertBefore(s,n.firstChild),o.addClass(s,"noty_modal_open"),o.addListener(s,o.animationEndEvents,(function(){o.removeClass(s,"noty_modal_open")}))),t.DocModalCount=r+=1)},t.handleModalClose=function(e){if(e.options.modal&&r>0&&(t.DocModalCount=r-=1,r<=0)){var n=document.querySelector(".noty_modal");n&&(o.removeClass(n,"noty_modal_open"),o.addClass(n,"noty_modal_close"),o.addListener(n,o.animationEndEvents,(function(){o.remove(n)})))}},t.queueClose=f,t.dequeueClose=p,t.fire=h,t.openFlow=function(e){h(e,"afterShow"),f(e),o.addListener(e.barDom,"mouseenter",(function(){p(e)})),o.addListener(e.barDom,"mouseleave",(function(){f(e)}))},t.closeFlow=function(e){delete l[e.id],e.closing=!1,h(e,"afterClose"),o.remove(e.barDom),0!==e.layoutDom.querySelectorAll(".noty_bar").length||e.options.container||o.remove(e.layoutDom),(o.inArray("docVisible",e.options.titleCount.conditions)||o.inArray("docHidden",e.options.titleCount.conditions))&&i.decrement(),u(e.options.queue)};var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0));t.PageHidden=!1;var r=t.DocModalCount=0,s={originalTitle:null,count:0,changed:!1,timer:-1},i=t.docTitle={increment:function(){s.count++,i._update()},decrement:function(){s.count--,s.count<=0?i._clear():i._update()},_update:function(){var e=document.title;s.changed?document.title="("+s.count+") "+s.originalTitle:(s.originalTitle=e,document.title="("+s.count+") "+e,s.changed=!0)},_clear:function(){s.changed&&(s.count=0,document.title=s.originalTitle,s.changed=!1)}},a=t.DefaultMaxVisible=5,c=t.Queues={global:{maxVisible:a,queue:[]}},l=t.Store={};function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global";if(c.hasOwnProperty(e)){var t=c[e].queue.shift();t&&t.show()}}function d(e){return!(!e.options.buttons||!Object.keys(e.options.buttons).length)}function f(e){e.options.timeout&&(e.options.progressBar&&e.progressDom&&o.css(e.progressDom,{transition:"width "+e.options.timeout+"ms linear",width:"0%"}),clearTimeout(e.closeTimer),e.closeTimer=setTimeout((function(){e.close()}),e.options.timeout))}function p(e){e.options.timeout&&e.closeTimer&&(clearTimeout(e.closeTimer),e.closeTimer=-1,e.options.progressBar&&e.progressDom&&o.css(e.progressDom,{transition:"width 0ms linear",width:"100%"}))}function h(e,t){e.listeners.hasOwnProperty(t)&&e.listeners[t].forEach((function(t){"function"==typeof t&&t.apply(e)}))}t.Defaults={type:"alert",layout:"topRight",theme:"mint",text:"",timeout:!1,progressBar:!0,closeWith:["click"],animation:{open:"noty_effects_open",close:"noty_effects_close"},id:!1,force:!1,killer:!1,queue:"global",container:!1,buttons:[],callbacks:{beforeShow:null,onShow:null,afterShow:null,onClose:null,afterClose:null,onClick:null,onHover:null,onTemplate:null},sounds:{sources:[],volume:1,conditions:[]},titleCount:{conditions:[]},modal:!1,visibilityControl:!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotyButton=void 0;var o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0));t.NotyButton=function e(t,n,r){var s=this,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dom=document.createElement("button"),this.dom.innerHTML=t,this.id=i.id=i.id||o.generateID("button"),this.cb=r,Object.keys(i).forEach((function(e){s.dom.setAttribute(e,i[e])})),o.addClass(this.dom,n||"noty_btn"),this}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();t.Push=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/service-worker.js";return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.subData={},this.workerPath=t,this.listeners={onPermissionGranted:[],onPermissionDenied:[],onSubscriptionSuccess:[],onSubscriptionCancel:[],onWorkerError:[],onWorkerSuccess:[],onWorkerNotSupported:[]},this}return o(e,[{key:"on",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return"function"==typeof t&&this.listeners.hasOwnProperty(e)&&this.listeners[e].push(t),this}},{key:"fire",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];this.listeners.hasOwnProperty(e)&&this.listeners[e].forEach((function(e){"function"==typeof e&&e.apply(t,n)}))}},{key:"create",value:function(){console.log("NOT IMPLEMENTED YET")}},{key:"isSupported",value:function(){var e=!1;try{e=window.Notification||window.webkitNotifications||navigator.mozNotification||window.external&&void 0!==window.external.msIsSiteMode()}catch(e){}return e}},{key:"getPermissionStatus",value:function(){var e="default";if(window.Notification&&window.Notification.permissionLevel)e=window.Notification.permissionLevel;else if(window.webkitNotifications&&window.webkitNotifications.checkPermission)switch(window.webkitNotifications.checkPermission()){case 1:e="default";break;case 0:e="granted";break;default:e="denied"}else window.Notification&&window.Notification.permission?e=window.Notification.permission:navigator.mozNotification?e="granted":window.external&&void 0!==window.external.msIsSiteMode()&&(e=window.external.msIsSiteMode()?"granted":"default");return e.toString().toLowerCase()}},{key:"getEndpoint",value:function(e){var t=e.endpoint,n=e.subscriptionId;return n&&-1===t.indexOf(n)&&(t+="/"+n),t}},{key:"isSWRegistered",value:function(){try{return"activated"===navigator.serviceWorker.controller.state}catch(e){return!1}}},{key:"unregisterWorker",value:function(){var e=this;"serviceWorker"in navigator&&navigator.serviceWorker.getRegistrations().then((function(t){var n=!0,o=!1,r=void 0;try{for(var s,i=t[Symbol.iterator]();!(n=(s=i.next()).done);n=!0)s.value.unregister(),e.fire("onSubscriptionCancel")}catch(e){o=!0,r=e}finally{try{!n&&i.return&&i.return()}finally{if(o)throw r}}}))}},{key:"requestSubscription",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=this,o=this.getPermissionStatus(),r=function(o){"granted"===o?(e.fire("onPermissionGranted"),"serviceWorker"in navigator?navigator.serviceWorker.register(e.workerPath).then((function(){navigator.serviceWorker.ready.then((function(e){n.fire("onWorkerSuccess"),e.pushManager.subscribe({userVisibleOnly:t}).then((function(e){var t=e.getKey("p256dh"),o=e.getKey("auth");n.subData={endpoint:n.getEndpoint(e),p256dh:t?window.btoa(String.fromCharCode.apply(null,new Uint8Array(t))):null,auth:o?window.btoa(String.fromCharCode.apply(null,new Uint8Array(o))):null},n.fire("onSubscriptionSuccess",[n.subData])})).catch((function(e){n.fire("onWorkerError",[e])}))}))})):n.fire("onWorkerNotSupported")):"denied"===o&&(e.fire("onPermissionDenied"),e.unregisterWorker())};"default"===o?window.Notification&&window.Notification.requestPermission?window.Notification.requestPermission(r):window.webkitNotifications&&window.webkitNotifications.checkPermission&&window.webkitNotifications.requestPermission(r):r(o)}}]),e}()},function(e,t,n){(function(t,o){var r;r=function(){"use strict";function e(e){return"function"==typeof e}var r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},s=0,i=void 0,a=void 0,c=function(e,t){m[s]=e,m[s+1]=t,2===(s+=2)&&(a?a(g):E())},l="undefined"!=typeof window?window:void 0,u=l||{},d=u.MutationObserver||u.WebKitMutationObserver,f="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),p="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function h(){var e=setTimeout;return function(){return e(g,1)}}var m=new Array(1e3);function g(){for(var e=0;e<s;e+=2)(0,m[e])(m[e+1]),m[e]=void 0,m[e+1]=void 0;s=0}var y,w,b,v,E=void 0;function S(e,t){var n=arguments,o=this,r=new this.constructor(R);void 0===r[O]&&H(r);var s,i=o._state;return i?(s=n[i-1],c((function(){return F(i,r,s,o._result)}))):$(o,r,e,t),r}function T(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(R);return x(t,e),t}f?E=function(){return t.nextTick(g)}:d?(w=0,b=new d(g),v=document.createTextNode(""),b.observe(v,{characterData:!0}),E=function(){v.data=w=++w%2}):p?((y=new MessageChannel).port1.onmessage=g,E=function(){return y.port2.postMessage(0)}):E=void 0===l?function(){try{var e=n(9);return void 0!==(i=e.runOnLoop||e.runOnContext)?function(){i(g)}:h()}catch(e){return h()}}():h();var O=Math.random().toString(36).substring(16);function R(){}var P=void 0,_=1,A=2,C=new U;function L(e){try{return e.then}catch(e){return C.error=e,C}}function N(t,n,o){n.constructor===t.constructor&&o===S&&n.constructor.resolve===T?function(e,t){t._state===_?D(e,t._result):t._state===A?I(e,t._result):$(t,void 0,(function(t){return x(e,t)}),(function(t){return I(e,t)}))}(t,n):o===C?(I(t,C.error),C.error=null):void 0===o?D(t,n):e(o)?function(e,t,n){c((function(e){var o=!1,r=function(n,r){try{n.call(r,(function(n){o||(o=!0,t!==n?x(e,n):D(e,n))}),(function(t){o||(o=!0,I(e,t))}))}catch(e){return e}}(n,t,0,0,e._label);!o&&r&&(o=!0,I(e,r))}),e)}(t,n,o):D(t,n)}function x(e,t){var n,o;e===t?I(e,new TypeError("You cannot resolve a promise with itself")):(o=typeof(n=t),null===n||"object"!==o&&"function"!==o?D(e,t):N(e,t,L(t)))}function k(e){e._onerror&&e._onerror(e._result),B(e)}function D(e,t){e._state===P&&(e._result=t,e._state=_,0!==e._subscribers.length&&c(B,e))}function I(e,t){e._state===P&&(e._state=A,e._result=t,c(k,e))}function $(e,t,n,o){var r=e._subscribers,s=r.length;e._onerror=null,r[s]=t,r[s+_]=n,r[s+A]=o,0===s&&e._state&&c(B,e)}function B(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var o=void 0,r=void 0,s=e._result,i=0;i<t.length;i+=3)o=t[i],r=t[i+n],o?F(n,o,r,s):r(s);e._subscribers.length=0}}function U(){this.error=null}var M=new U;function F(t,n,o,r){var s=e(o),i=void 0,a=void 0,c=void 0,l=void 0;if(s){if(i=function(e,t){try{return e(t)}catch(e){return M.error=e,M}}(o,r),i===M?(l=!0,a=i.error,i.error=null):c=!0,n===i)return void I(n,new TypeError("A promises callback cannot return that same promise."))}else i=r,c=!0;n._state!==P||(s&&c?x(n,i):l?I(n,a):t===_?D(n,i):t===A&&I(n,i))}var j=0;function H(e){e[O]=j++,e._state=void 0,e._result=void 0,e._subscribers=[]}function q(e,t){this._instanceConstructor=e,this.promise=new e(R),this.promise[O]||H(this.promise),r(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?D(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&D(this.promise,this._result))):I(this.promise,new Error("Array Methods must be provided an Array"))}function W(e){this[O]=j++,this._result=this._state=void 0,this._subscribers=[],R!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof W?function(e,t){try{t((function(t){x(e,t)}),(function(t){I(e,t)}))}catch(t){I(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return q.prototype._enumerate=function(e){for(var t=0;this._state===P&&t<e.length;t++)this._eachEntry(e[t],t)},q.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,o=n.resolve;if(o===T){var r=L(e);if(r===S&&e._state!==P)this._settledAt(e._state,t,e._result);else if("function"!=typeof r)this._remaining--,this._result[t]=e;else if(n===W){var s=new n(R);N(s,e,r),this._willSettleAt(s,t)}else this._willSettleAt(new n((function(t){return t(e)})),t)}else this._willSettleAt(o(e),t)},q.prototype._settledAt=function(e,t,n){var o=this.promise;o._state===P&&(this._remaining--,e===A?I(o,n):this._result[t]=n),0===this._remaining&&D(o,this._result)},q.prototype._willSettleAt=function(e,t){var n=this;$(e,void 0,(function(e){return n._settledAt(_,t,e)}),(function(e){return n._settledAt(A,t,e)}))},W.all=function(e){return new q(this,e).promise},W.race=function(e){var t=this;return r(e)?new t((function(n,o){for(var r=e.length,s=0;s<r;s++)t.resolve(e[s]).then(n,o)})):new t((function(e,t){return t(new TypeError("You must pass an array to race."))}))},W.resolve=T,W.reject=function(e){var t=new this(R);return I(t,e),t},W._setScheduler=function(e){a=e},W._setAsap=function(e){c=e},W._asap=c,W.prototype={constructor:W,then:S,catch:function(e){return this.then(null,e)}},W.polyfill=function(){var e=void 0;if(void 0!==o)e=o;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var n=null;try{n=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===n&&!t.cast)return}e.Promise=W},W.Promise=W,W},e.exports=r()}).call(t,n(7),n(8))},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(5);var r,s=(r=n(4))&&r.__esModule?r:{default:r},i=u(n(0)),a=u(n(1)),c=n(2),l=n(3);function u(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var d=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=i.deepExtend({},a.Defaults,t),a.Store[this.options.id]?a.Store[this.options.id]:(this.id=this.options.id||i.generateID("bar"),this.closeTimer=-1,this.barDom=null,this.layoutDom=null,this.progressDom=null,this.showing=!1,this.shown=!1,this.closed=!1,this.closing=!1,this.killable=this.options.timeout||this.options.closeWith.length>0,this.hasSound=this.options.sounds.sources.length>0,this.soundPlayed=!1,this.listeners={beforeShow:[],onShow:[],afterShow:[],onClose:[],afterClose:[],onClick:[],onHover:[],onTemplate:[]},this.promises={show:null,close:null},this.on("beforeShow",this.options.callbacks.beforeShow),this.on("onShow",this.options.callbacks.onShow),this.on("afterShow",this.options.callbacks.afterShow),this.on("onClose",this.options.callbacks.onClose),this.on("afterClose",this.options.callbacks.afterClose),this.on("onClick",this.options.callbacks.onClick),this.on("onHover",this.options.callbacks.onHover),this.on("onTemplate",this.options.callbacks.onTemplate),this)}return o(e,[{key:"on",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};return"function"==typeof t&&this.listeners.hasOwnProperty(e)&&this.listeners[e].push(t),this}},{key:"show",value:function(){var t=this;if(this.showing||this.shown)return this;!0===this.options.killer?e.closeAll():"string"==typeof this.options.killer&&e.closeAll(this.options.killer);var n=a.getQueueCounts(this.options.queue);if(n.current>=n.maxVisible||a.PageHidden&&this.options.visibilityControl)return a.addToQueue(this),a.PageHidden&&this.hasSound&&i.inArray("docHidden",this.options.sounds.conditions)&&i.createAudioElements(this),a.PageHidden&&i.inArray("docHidden",this.options.titleCount.conditions)&&a.docTitle.increment(),this;if(a.Store[this.id]=this,a.fire(this,"beforeShow"),this.showing=!0,this.closing)return this.showing=!1,this;if(a.build(this),a.handleModal(this),this.options.force?this.layoutDom.insertBefore(this.barDom,this.layoutDom.firstChild):this.layoutDom.appendChild(this.barDom),this.hasSound&&!this.soundPlayed&&i.inArray("docVisible",this.options.sounds.conditions)&&i.createAudioElements(this),i.inArray("docVisible",this.options.titleCount.conditions)&&a.docTitle.increment(),this.shown=!0,this.closed=!1,a.hasButtons(this)&&Object.keys(this.options.buttons).forEach((function(e){var n=t.barDom.querySelector("#"+t.options.buttons[e].id);i.addListener(n,"click",(function(n){i.stopPropagation(n),t.options.buttons[e].cb(t)}))})),this.progressDom=this.barDom.querySelector(".noty_progressbar"),i.inArray("click",this.options.closeWith)&&(i.addClass(this.barDom,"noty_close_with_click"),i.addListener(this.barDom,"click",(function(e){i.stopPropagation(e),a.fire(t,"onClick"),t.close()}),!1)),i.addListener(this.barDom,"mouseenter",(function(){a.fire(t,"onHover")}),!1),this.options.timeout&&i.addClass(this.barDom,"noty_has_timeout"),this.options.progressBar&&i.addClass(this.barDom,"noty_has_progressbar"),i.inArray("button",this.options.closeWith)){i.addClass(this.barDom,"noty_close_with_button");var o=document.createElement("div");i.addClass(o,"noty_close_button"),o.innerHTML="×",this.barDom.appendChild(o),i.addListener(o,"click",(function(e){i.stopPropagation(e),t.close()}),!1)}return a.fire(this,"onShow"),null===this.options.animation.open?this.promises.show=new s.default((function(e){e()})):"function"==typeof this.options.animation.open?this.promises.show=new s.default(this.options.animation.open.bind(this)):(i.addClass(this.barDom,this.options.animation.open),this.promises.show=new s.default((function(e){i.addListener(t.barDom,i.animationEndEvents,(function(){i.removeClass(t.barDom,t.options.animation.open),e()}))}))),this.promises.show.then((function(){var e=t;setTimeout((function(){a.openFlow(e)}),100)})),this}},{key:"stop",value:function(){return a.dequeueClose(this),this}},{key:"resume",value:function(){return a.queueClose(this),this}},{key:"setTimeout",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){if(this.stop(),this.options.timeout=e,this.barDom){this.options.timeout?i.addClass(this.barDom,"noty_has_timeout"):i.removeClass(this.barDom,"noty_has_timeout");var t=this;setTimeout((function(){t.resume()}),100)}return this}))},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.barDom&&(this.barDom.querySelector(".noty_body").innerHTML=e),t&&(this.options.text=e),this}},{key:"setType",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.barDom&&(i.classList(this.barDom).split(" ").forEach((function(e){"noty_type__"===e.substring(0,11)&&i.removeClass(t.barDom,e)})),i.addClass(this.barDom,"noty_type__"+e)),n&&(this.options.type=e),this}},{key:"setTheme",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.barDom&&(i.classList(this.barDom).split(" ").forEach((function(e){"noty_theme__"===e.substring(0,12)&&i.removeClass(t.barDom,e)})),i.addClass(this.barDom,"noty_theme__"+e)),n&&(this.options.theme=e),this}},{key:"close",value:function(){var e=this;return this.closed?this:this.shown?(a.fire(this,"onClose"),this.closing=!0,null===this.options.animation.close||!1===this.options.animation.close?this.promises.close=new s.default((function(e){e()})):"function"==typeof this.options.animation.close?this.promises.close=new s.default(this.options.animation.close.bind(this)):(i.addClass(this.barDom,this.options.animation.close),this.promises.close=new s.default((function(t){i.addListener(e.barDom,i.animationEndEvents,(function(){e.options.force?i.remove(e.barDom):a.ghostFix(e),t()}))}))),this.promises.close.then((function(){a.closeFlow(e),a.handleModalClose(e)})),this.closed=!0,this):(a.removeFromQueue(this),this)}}],[{key:"closeAll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object.keys(a.Store).forEach((function(t){e?a.Store[t].options.queue===e&&a.Store[t].killable&&a.Store[t].close():a.Store[t].killable&&a.Store[t].close()})),this}},{key:"clearQueue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global";return a.Queues.hasOwnProperty(e)&&(a.Queues[e].queue=[]),this}},{key:"overrideDefaults",value:function(e){return a.Defaults=i.deepExtend({},a.Defaults,e),this}},{key:"setMaxVisible",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.DefaultMaxVisible,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"global";return a.Queues.hasOwnProperty(t)||(a.Queues[t]={maxVisible:e,queue:[]}),a.Queues[t].maxVisible=e,this}},{key:"button",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return new c.NotyButton(e,t,n,o)}},{key:"version",value:function(){return"3.2.0-beta"}},{key:"Push",value:function(e){return new l.Push(e)}},{key:"Queues",get:function(){return a.Queues}},{key:"PageHidden",get:function(){return a.PageHidden}}]),e}();t.default=d,"undefined"!=typeof window&&i.visibilityChangeFlow(),e.exports=t.default},function(e,t){var n,o,r=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(e){n=s}try{o="function"==typeof clearTimeout?clearTimeout:i}catch(e){o=i}}();var c,l=[],u=!1,d=-1;function f(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&p())}function p(){if(!u){var e=a(f);u=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,u=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===i||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{return o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||u||a(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){}])},e.exports=t()}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var s=t[o]={exports:{}};return e[o].call(s.exports,s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>Ce,hasStandardBrowserEnv:()=>Ne,hasStandardBrowserWebWorkerEnv:()=>xe,navigator:()=>Le,origin:()=>ke});const{parse:t,stringify:o}=JSON,{keys:r}=Object,s=String,i={},a="object",c=(e,t)=>t,l=e=>e instanceof s?s(e):e,u=(e,t)=>"string"==typeof t?new s(t):t,d=(e,t,n,o)=>{const c=[];for(let l=r(n),{length:u}=l,d=0;d<u;d++){const r=l[d],u=n[r];if(u instanceof s){const s=e[u];typeof s!==a||t.has(s)?n[r]=o.call(n,r,s):(t.add(s),n[r]=i,c.push({k:r,a:[e,t,s,o]}))}else n[r]!==i&&(n[r]=o.call(n,r,u))}for(let{length:e}=c,t=0;t<e;t++){const{k:e,a:r}=c[t];n[e]=o.call(n,e,d.apply(null,r))}return n};var f=n(536);class p{static perc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return`${(null==e?void 0:e.toFixed(t))||0}%`}static toFixed(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(null==e?void 0:e.toFixed(t))||0}static percentOf(e,t){return this.toFixed(t/100*e,2)}static generateTime(e){let t;if(void 0===e||isNaN(e)||null===e)t="No Time Estimate";else{let n=Math.floor(e/86400);e-=3600*n*24;let o=Math.floor(e/3600);e-=3600*o;let r=Math.floor(e/60);e-=60*r,t=`${n}d, ${o}h, ${r}m, ${e=Math.floor(e)}s`,0===r&&t.includes("0m")&&(t=t.replace(" 0m,","")),0===o&&t.includes("0h")&&(t=t.replace(" 0h,","")),0===n&&t.includes("0d")&&(t=t.replace("0d,","")),0===r&&0===o&&0===n&&0===e&&(t=t.replace("0s","Done"))}return t}static isBetween(e,t,n){return(e-t)*(e-n)<=0}static bytes(e,t){if(void 0===e||isNaN(e)||null===e)return"";if(0===e)return"0 Bytes";const n=t||2,o=Math.floor(Math.log(e)/Math.log(1024));return`<i class="fas fa-hdd"></i> ${parseFloat((e/Math.pow(1024,o)).toFixed(n))} ${["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][o]}`}static dateClean(e){return new Date(e).toLocaleString()}static timeSince(e){const t=Date.now();return p.generateTime(t/1e3-e/1e3)}static generateCost(e){return e?e.toFixed(2):0}static getPercentage(e,t){return(100*e/t).toFixed(0)}static firstDayOfMonth(){const e=new Date;return new Date(e.getFullYear(),e.getMonth(),1)}static lastDayOfMonth(){const e=new Date;return new Date(e.getFullYear(),e.getMonth()+1,0)}}var h=n(943),m=n.n(h);const g=[document.getElementById("printerSettingsModal"),document.getElementById("printerManagerModal"),document.getElementById("printerLogsModal"),document.getElementById("printerStatistics"),document.getElementById("printerSelectModal")];class y{static elementsScrollPosition={scrollTop:null,scrollLeft:null};static getColour(e){return"Operational"===e?{name:"secondary",hex:"#262626",category:"Idle"}:"Paused"===e?{name:"warning",hex:"#583c0e",category:"Idle"}:"Printing"===e||"Pausing"===e||"Cancelling"===e?{name:"warning",hex:"#583c0e",category:"Active"}:"Error"===e?{name:"danger",hex:"#2e0905",category:"Idle"}:"Offline"===e?{name:"danger",hex:"#2e0905",category:"Offline"}:"Searching..."===e?{name:"danger",hex:"#2e0905",category:"Idle"}:"Closed"===e?{name:"danger",hex:"#2e0905",category:"Closed"}:"Complete"===e?{name:"success",hex:"#00330e",category:"Complete"}:{name:"danger",hex:"#2e0905",category:"Offline"}}static createMessage(e,t){const n=document.getElementById(t),o=`\n      <div class="alert alert-${e.type} alert-dismissible fade show" role="alert">\n        ${e.msg}\n      <button type="button" class="close" data-dismiss="alert" aria-label="Close">\n        <span aria-hidden="true">&times;</span>\n      </button>\n    </div>\n    `;n.insertAdjacentHTML("beforeend",o)}static createAlert(e,t,n,o){o=null!=o?["click"]:[],m().setMaxVisible(50);let r=new(m())({type:e,theme:"bootstrap-v4",closeWith:o,timeout:n,layout:"bottomRight",text:t});return r.show(),r}static doesElementNeedUpdating(e,t,n){e&&t&&n&&t&&JSON.stringify(e)!==JSON.stringify(t[n])&&(t[n]=e)}static clearSelect(e){document.querySelectorAll("*[id^="+e+"]").forEach((e=>{e.value=""}))}static addSelectListeners(e){document.querySelectorAll("*[id^="+e+"]").forEach((e=>{"input"===e.localName&&(e.addEventListener("focus",(t=>{e.value!==e.placeholder&&(e.value=e.placeholder)})),e.addEventListener("focusout",(t=>{e.value!==e.placeholder&&(e.placeholder=e.value)})))}))}static returnSpinnerTemplate(){return'<i class="fas fa-spinner fa-spin"></i>'}static removeLoaderFromElementInnerHTML(e){e&&e.innerHTML.includes("spinner")&&(e.innerHTML=e.innerHTML.replace(y.returnSpinnerTemplate(),""))}static addLoaderToElementsInnerHTML(e){e.innerHTML.includes("spinner")||(e.innerHTML+=y.returnSpinnerTemplate())}static checkIfAnyModalShown(){return g.map((e=>e.classList.contains("show"))).includes(!0)}static checkIfSpecificModalShown(e){const t=g.filter((t=>t.id===e));return!!t[0]&&t[0].classList.contains("show")}static async delay(e){return new Promise((t=>{setTimeout(t,e)}))}static removeLine(e){e.remove()}static disableElements(e){e.forEach((e=>{e.disabled=!0}))}static enableElements(e){e.forEach((e=>{e.disabled=!1}))}static blankElementValue(e){e.forEach((e=>{e.value=""}))}static setElementValueFromPlaceholder(e){e.forEach((e=>{e.value=e.placeholder}))}static setElementPlaceholderFromValue(e){e.forEach((e=>{e.placeholder=e.value}))}static generateTime(e){let t="";if(void 0===e||isNaN(e)||null===e)t="No Time Estimate";else{const n=Math.floor(e/86400);e-=3600*n*24;const o=Math.floor(e/3600);e-=3600*o;const r=Math.floor(e/60);e-=60*r,t=`${n}d, ${o}h, ${r}m, ${e=Math.floor(e)}s`,0==r&&t.includes("0m")&&(t=t.replace(" 0m,","")),0==o&&t.includes("0h")&&(t=t.replace(" 0h,","")),0==n&&t.includes("0d")&&(t=t.replace("0d,","")),0==r&&0==o&&0==n&&0==e&&(t=t.replace("0s","Done"))}return t}static milisecondsToDays(e){return isNaN(e)?0:Math.floor(e/86400)}static generateMilisecondsTime(e){let t=e/1e3,n="";if(!t||isNaN(t))n="No Interval";else{const o=Math.floor(t/86400);t-=3600*o*24;const r=Math.floor(t/3600);t-=3600*r;const s=Math.floor(t/60);t-=60*s,t=Math.floor(t),n=`${o}d, ${r}h, ${s}m, ${t}s`,0===s&&n.includes("0m")&&(n=n.replace(" 0m,","")),0===r&&n.includes("0h")&&(n=n.replace(" 0h,","")),0===o&&n.includes("0d")&&(n=n.replace("0d,","")),0===t&&(n=n.replace(", 0s","")),0===s&&0===r&&0===o&&0===t&&(n=n.replace("0s",e+" ms")),e||(n="No Interval")}return n}static isPrinterDisabled(e){return!e.target.innerHTML.includes("wheelchair")&&(!!e.target.innerHTML.includes("running")||void 0)}static removeClassIfExists(e,t){e.classList.contains(t)&&e.classList.remove(t)}static addClassIfDoesNotExist(e,t){e.classList.contains(t)||e.classList.add(t)}static removeDisplayNoneFromElement(e){e.classList.contains("d-none")&&e.classList.remove("d-none")}static addDisplayNoneToElement(e){e.classList.contains("d-none")||e.classList.add("d-none")}static removeFaSpinFromElement(e){e.classList.contains("fa-spin")&&e.classList.remove("fa-spin")}static addFaSpinToElement(e){e.classList.contains("fa-spin")||e.classList.add("fa-spin")}static addNotYetToElement(e){e.classList.contains("notyet")||e.classList.add("notyet")}static removeNotYetFromElement(e){e.classList.contains("notyet")&&e.classList.remove("notyet")}static togglePrinterDisableState(e){e.target.innerHTML.includes("running")?(e.target.innerHTML='<i class="fas fa-wheelchair"></i> Disable',e.target.title="Printer is Disabled, click to enable"):e.target.innerHTML.includes("wheelchair")&&(e.target.innerHTML='<i class="fas fa-running text-success"></i> Enable',e.target.title="Printer is Enabled, click to disable")}static getValueOrPlaceHolder(e){return e?""===e.value?e.placeholder:e.value:void 0}static returnProgressColour(e,t){return e<45?t?"bg-danger":"bg-success":e<75?"bg-warning":t?"bg-success":"bg-danger"}static convertValueToTemplate(e,t){const n=y.camelCaseToWords(e),o=`opBulk-${e}`;return"string"==typeof t?`\n        <div class="input-group mb-3 col-3">\n          <div class="input-group-prepend">\n            <span class="input-group-text" id="basic-addon1">${n}</span>\n          </div>\n          <input id="${o}" type="text" class="form-control" placeholder="${t}" aria-label="Username" aria-describedby="basic-addon1">\n        </div>\n      `:"number"==typeof t?`\n        <div class="input-group mb-3 col-3">\n          <div class="input-group-prepend">\n            <span class="input-group-text" id="basic-addon1">${n}</span>\n          </div>\n          <input id="${o}" type="number" class="form-control" placeholder="${t}" aria-label="Username" aria-describedby="basic-addon1">\n        </div>\n      `:"boolean"==typeof t?`\n        <div class="col-4">\n          <form class="was-validated">\n            <div class="custom-control custom-checkbox mb-3">\n                <input id="${o}" type="checkbox" class="custom-control-input" required ${t?"checked='true'":""}>\n                <label class="custom-control-label" for="${o}">${n}</label>\n                <div class="valid-feedback">${n} is on.</div>\n                 <div class="invalid-feedback">${n} is off.</div>\n            </div>\n          </form>\n        </div>\n      `:void 0}static camelCaseToWords(e){return e.match(/^[a-z]+|[A-Z][a-z]*/g).map((function(e){return e[0].toUpperCase()+e.substr(1).toLowerCase()})).join(" ")}static captureScrollPosition(e){this.elementsScrollPosition.scrollTop=e.scrollTop,this.elementsScrollPosition.scrollLeft=e.scrollLeft}static reApplyScrollPosition(e){e.scrollTop=this.elementsScrollPosition.scrollTop,e.scrollLeft=this.elementsScrollPosition.scrollLeft}}function w(e,t){return function(){return e.apply(t,arguments)}}const{toString:b}=Object.prototype,{getPrototypeOf:v}=Object,E=(S=Object.create(null),e=>{const t=b.call(e);return S[t]||(S[t]=t.slice(8,-1).toLowerCase())});var S;const T=e=>(e=e.toLowerCase(),t=>E(t)===e),O=e=>t=>typeof t===e,{isArray:R}=Array,P=O("undefined"),A=T("ArrayBuffer"),C=O("string"),L=O("function"),N=O("number"),x=e=>null!==e&&"object"==typeof e,k=e=>{if("object"!==E(e))return!1;const t=v(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||Symbol.iterator in e)},D=T("Date"),I=T("File"),B=T("Blob"),U=T("FileList"),M=T("URLSearchParams"),[F,j,H,q]=["ReadableStream","Request","Response","Headers"].map(T);function W(e,t,{allOwnKeys:n=!1}={}){if(null==e)return;let o,r;if("object"!=typeof e&&(e=[e]),R(e))for(o=0,r=e.length;o<r;o++)t.call(null,e[o],o,e);else{const r=n?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let i;for(o=0;o<s;o++)i=r[o],t.call(null,e[i],i,e)}}function V(e,t){t=t.toLowerCase();const n=Object.keys(e);let o,r=n.length;for(;r-- >0;)if(o=n[r],t===o.toLowerCase())return o;return null}const z="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:global,K=e=>!P(e)&&e!==z,G=(J="undefined"!=typeof Uint8Array&&v(Uint8Array),e=>J&&e instanceof J);var J;const Y=T("HTMLFormElement"),Q=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),X=T("RegExp"),Z=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),o={};W(n,((n,r)=>{let s;!1!==(s=t(n,r,e))&&(o[r]=s||n)})),Object.defineProperties(e,o)},ee="abcdefghijklmnopqrstuvwxyz",te="0123456789",ne={DIGIT:te,ALPHA:ee,ALPHA_DIGIT:ee+ee.toUpperCase()+te},oe=T("AsyncFunction"),re=(se="function"==typeof setImmediate,ie=L(z.postMessage),se?setImmediate:ie?(ae=`axios@${Math.random()}`,ce=[],z.addEventListener("message",(({source:e,data:t})=>{e===z&&t===ae&&ce.length&&ce.shift()()}),!1),e=>{ce.push(e),z.postMessage(ae,"*")}):e=>setTimeout(e));var se,ie,ae,ce;const le="undefined"!=typeof queueMicrotask?queueMicrotask.bind(z):"undefined"!=typeof process&&process.nextTick||re,ue={isArray:R,isArrayBuffer:A,isBuffer:function(e){return null!==e&&!P(e)&&null!==e.constructor&&!P(e.constructor)&&L(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"==typeof FormData&&e instanceof FormData||L(e.append)&&("formdata"===(t=E(e))||"object"===t&&L(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&A(e.buffer),t},isString:C,isNumber:N,isBoolean:e=>!0===e||!1===e,isObject:x,isPlainObject:k,isReadableStream:F,isRequest:j,isResponse:H,isHeaders:q,isUndefined:P,isDate:D,isFile:I,isBlob:B,isRegExp:X,isFunction:L,isStream:e=>x(e)&&L(e.pipe),isURLSearchParams:M,isTypedArray:G,isFileList:U,forEach:W,merge:function e(){const{caseless:t}=K(this)&&this||{},n={},o=(o,r)=>{const s=t&&V(n,r)||r;k(n[s])&&k(o)?n[s]=e(n[s],o):k(o)?n[s]=e({},o):R(o)?n[s]=o.slice():n[s]=o};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&W(arguments[e],o);return n},extend:(e,t,n,{allOwnKeys:o}={})=>(W(t,((t,o)=>{n&&L(t)?e[o]=w(t,n):e[o]=t}),{allOwnKeys:o}),e),trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,o)=>{e.prototype=Object.create(t.prototype,o),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,o)=>{let r,s,i;const a={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),s=r.length;s-- >0;)i=r[s],o&&!o(i,e,t)||a[i]||(t[i]=e[i],a[i]=!0);e=!1!==n&&v(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:E,kindOfTest:T,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const o=e.indexOf(t,n);return-1!==o&&o===n},toArray:e=>{if(!e)return null;if(R(e))return e;let t=e.length;if(!N(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let o;for(;(o=n.next())&&!o.done;){const n=o.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const o=[];for(;null!==(n=e.exec(t));)o.push(n);return o},isHTMLForm:Y,hasOwnProperty:Q,hasOwnProp:Q,reduceDescriptors:Z,freezeMethods:e=>{Z(e,((t,n)=>{if(L(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const o=e[n];L(o)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},o=e=>{e.forEach((e=>{n[e]=!0}))};return R(e)?o(e):o(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:V,global:z,isContextDefined:K,ALPHABET:ne,generateString:(e=16,t=ne.ALPHA_DIGIT)=>{let n="";const{length:o}=t;for(;e--;)n+=t[Math.random()*o|0];return n},isSpecCompliantForm:function(e){return!!(e&&L(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,o)=>{if(x(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[o]=e;const r=R(e)?[]:{};return W(e,((e,t)=>{const s=n(e,o+1);!P(s)&&(r[t]=s)})),t[o]=void 0,r}}return e};return n(e,0)},isAsyncFn:oe,isThenable:e=>e&&(x(e)||L(e))&&L(e.then)&&L(e.catch),setImmediate:re,asap:le};function de(e,t,n,o,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),o&&(this.request=o),r&&(this.response=r,this.status=r.status?r.status:null)}ue.inherits(de,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ue.toJSONObject(this.config),code:this.code,status:this.status}}});const fe=de.prototype,pe={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{pe[e]={value:e}})),Object.defineProperties(de,pe),Object.defineProperty(fe,"isAxiosError",{value:!0}),de.from=(e,t,n,o,r,s)=>{const i=Object.create(fe);return ue.toFlatObject(e,i,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),de.call(i,e.message,t,n,o,r),i.cause=e,i.name=e.name,s&&Object.assign(i,s),i};const he=de;function me(e){return ue.isPlainObject(e)||ue.isArray(e)}function ge(e){return ue.endsWith(e,"[]")?e.slice(0,-2):e}function ye(e,t,n){return e?e.concat(t).map((function(e,t){return e=ge(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const we=ue.toFlatObject(ue,{},null,(function(e){return/^is[A-Z]/.test(e)})),be=function(e,t,n){if(!ue.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const o=(n=ue.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!ue.isUndefined(t[e])}))).metaTokens,r=n.visitor||l,s=n.dots,i=n.indexes,a=(n.Blob||"undefined"!=typeof Blob&&Blob)&&ue.isSpecCompliantForm(t);if(!ue.isFunction(r))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(ue.isDate(e))return e.toISOString();if(!a&&ue.isBlob(e))throw new he("Blob is not supported. Use a Buffer instead.");return ue.isArrayBuffer(e)||ue.isTypedArray(e)?a&&"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,n,r){let a=e;if(e&&!r&&"object"==typeof e)if(ue.endsWith(n,"{}"))n=o?n:n.slice(0,-2),e=JSON.stringify(e);else if(ue.isArray(e)&&function(e){return ue.isArray(e)&&!e.some(me)}(e)||(ue.isFileList(e)||ue.endsWith(n,"[]"))&&(a=ue.toArray(e)))return n=ge(n),a.forEach((function(e,o){!ue.isUndefined(e)&&null!==e&&t.append(!0===i?ye([n],o,s):null===i?n:n+"[]",c(e))})),!1;return!!me(e)||(t.append(ye(r,n,s),c(e)),!1)}const u=[],d=Object.assign(we,{defaultVisitor:l,convertValue:c,isVisitable:me});if(!ue.isObject(e))throw new TypeError("data must be an object");return function e(n,o){if(!ue.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+o.join("."));u.push(n),ue.forEach(n,(function(n,s){!0===(!(ue.isUndefined(n)||null===n)&&r.call(t,n,ue.isString(s)?s.trim():s,o,d))&&e(n,o?o.concat(s):[s])})),u.pop()}}(e),t};function ve(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Ee(e,t){this._pairs=[],e&&be(e,this,t)}const Se=Ee.prototype;Se.append=function(e,t){this._pairs.push([e,t])},Se.toString=function(e){const t=e?function(t){return e.call(this,t,ve)}:ve;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const Te=Ee;function Oe(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Re(e,t,n){if(!t)return e;const o=n&&n.encode||Oe,r=n&&n.serialize;let s;if(s=r?r(t,n):ue.isURLSearchParams(t)?t.toString():new Te(t,n).toString(o),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const Pe=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ue.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},_e={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ae={isBrowser:!0,classes:{URLSearchParams:"undefined"!=typeof URLSearchParams?URLSearchParams:Te,FormData:"undefined"!=typeof FormData?FormData:null,Blob:"undefined"!=typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Ce="undefined"!=typeof window&&"undefined"!=typeof document,Le="object"==typeof navigator&&navigator||void 0,Ne=Ce&&(!Le||["ReactNative","NativeScript","NS"].indexOf(Le.product)<0),xe="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"==typeof self.importScripts,ke=Ce&&window.location.href||"http://localhost",De={...e,...Ae},Ie=function(e){function t(e,n,o,r){let s=e[r++];if("__proto__"===s)return!0;const i=Number.isFinite(+s),a=r>=e.length;return s=!s&&ue.isArray(o)?o.length:s,a?(ue.hasOwnProp(o,s)?o[s]=[o[s],n]:o[s]=n,!i):(o[s]&&ue.isObject(o[s])||(o[s]=[]),t(e,n,o[s],r)&&ue.isArray(o[s])&&(o[s]=function(e){const t={},n=Object.keys(e);let o;const r=n.length;let s;for(o=0;o<r;o++)s=n[o],t[s]=e[s];return t}(o[s])),!i)}if(ue.isFormData(e)&&ue.isFunction(e.entries)){const n={};return ue.forEachEntry(e,((e,o)=>{t(function(e){return ue.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),o,n,0)})),n}return null},$e={transitional:_e,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",o=n.indexOf("application/json")>-1,r=ue.isObject(e);if(r&&ue.isHTMLForm(e)&&(e=new FormData(e)),ue.isFormData(e))return o?JSON.stringify(Ie(e)):e;if(ue.isArrayBuffer(e)||ue.isBuffer(e)||ue.isStream(e)||ue.isFile(e)||ue.isBlob(e)||ue.isReadableStream(e))return e;if(ue.isArrayBufferView(e))return e.buffer;if(ue.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(r){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return be(e,new De.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,o){return De.isNode&&ue.isBuffer(e)?(this.append(t,e.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=ue.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return be(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return r||o?(t.setContentType("application/json",!1),function(e){if(ue.isString(e))try{return(0,JSON.parse)(e),ue.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||$e.transitional,n=t&&t.forcedJSONParsing,o="json"===this.responseType;if(ue.isResponse(e)||ue.isReadableStream(e))return e;if(e&&ue.isString(e)&&(n&&!this.responseType||o)){const n=!(t&&t.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(e){if(n){if("SyntaxError"===e.name)throw he.from(e,he.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:De.classes.FormData,Blob:De.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ue.forEach(["delete","get","head","post","put","patch"],(e=>{$e.headers[e]={}}));const Be=$e,Ue=ue.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Me=Symbol("internals");function Fe(e){return e&&String(e).trim().toLowerCase()}function je(e){return!1===e||null==e?e:ue.isArray(e)?e.map(je):String(e)}function He(e,t,n,o,r){return ue.isFunction(o)?o.call(this,t,n):(r&&(t=n),ue.isString(t)?ue.isString(o)?-1!==t.indexOf(o):ue.isRegExp(o)?o.test(t):void 0:void 0)}class qe{constructor(e){e&&this.set(e)}set(e,t,n){const o=this;function r(e,t,n){const r=Fe(t);if(!r)throw new Error("header name must be a non-empty string");const s=ue.findKey(o,r);(!s||void 0===o[s]||!0===n||void 0===n&&!1!==o[s])&&(o[s||t]=je(e))}const s=(e,t)=>ue.forEach(e,((e,n)=>r(e,n,t)));if(ue.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(ue.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let n,o,r;return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),n=e.substring(0,r).trim().toLowerCase(),o=e.substring(r+1).trim(),!n||t[n]&&Ue[n]||("set-cookie"===n?t[n]?t[n].push(o):t[n]=[o]:t[n]=t[n]?t[n]+", "+o:o)})),t})(e),t);else if(ue.isHeaders(e))for(const[t,o]of e.entries())r(o,t,n);else null!=e&&r(t,e,n);return this}get(e,t){if(e=Fe(e)){const n=ue.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=n.exec(e);)t[o[1]]=o[2];return t}(e);if(ue.isFunction(t))return t.call(this,e,n);if(ue.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Fe(e)){const n=ue.findKey(this,e);return!(!n||void 0===this[n]||t&&!He(0,this[n],n,t))}return!1}delete(e,t){const n=this;let o=!1;function r(e){if(e=Fe(e)){const r=ue.findKey(n,e);!r||t&&!He(0,n[r],r,t)||(delete n[r],o=!0)}}return ue.isArray(e)?e.forEach(r):r(e),o}clear(e){const t=Object.keys(this);let n=t.length,o=!1;for(;n--;){const r=t[n];e&&!He(0,this[r],r,e,!0)||(delete this[r],o=!0)}return o}normalize(e){const t=this,n={};return ue.forEach(this,((o,r)=>{const s=ue.findKey(n,r);if(s)return t[s]=je(o),void delete t[r];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(r):String(r).trim();i!==r&&delete t[r],t[i]=je(o),n[i]=!0})),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return ue.forEach(this,((n,o)=>{null!=n&&!1!==n&&(t[o]=e&&ue.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((([e,t])=>e+": "+t)).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const n=new this(e);return t.forEach((e=>n.set(e))),n}static accessor(e){const t=(this[Me]=this[Me]={accessors:{}}).accessors,n=this.prototype;function o(e){const o=Fe(e);t[o]||(function(e,t){const n=ue.toCamelCase(" "+t);["get","set","has"].forEach((o=>{Object.defineProperty(e,o+n,{value:function(e,n,r){return this[o].call(this,t,e,n,r)},configurable:!0})}))}(n,e),t[o]=!0)}return ue.isArray(e)?e.forEach(o):o(e),this}}qe.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ue.reduceDescriptors(qe.prototype,(({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(e){this[n]=e}}})),ue.freezeMethods(qe);const We=qe;function Ve(e,t){const n=this||Be,o=t||n,r=We.from(o.headers);let s=o.data;return ue.forEach(e,(function(e){s=e.call(n,s,r.normalize(),t?t.status:void 0)})),r.normalize(),s}function ze(e){return!(!e||!e.__CANCEL__)}function Ke(e,t,n){he.call(this,null==e?"canceled":e,he.ERR_CANCELED,t,n),this.name="CanceledError"}ue.inherits(Ke,he,{__CANCEL__:!0});const Ge=Ke;function Je(e,t,n){const o=n.config.validateStatus;n.status&&o&&!o(n.status)?t(new he("Request failed with status code "+n.status,[he.ERR_BAD_REQUEST,he.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Ye=(e,t,n=3)=>{let o=0;const r=function(e,t){e=e||10;const n=new Array(e),o=new Array(e);let r,s=0,i=0;return t=void 0!==t?t:1e3,function(a){const c=Date.now(),l=o[i];r||(r=c),n[s]=a,o[s]=c;let u=i,d=0;for(;u!==s;)d+=n[u++],u%=e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),c-r<t)return;const f=l&&c-l;return f?Math.round(1e3*d/f):void 0}}(50,250);return function(e,t){let n,o,r=0,s=1e3/t;const i=(t,s=Date.now())=>{r=s,n=null,o&&(clearTimeout(o),o=null),e.apply(null,t)};return[(...e)=>{const t=Date.now(),a=t-r;a>=s?i(e,t):(n=e,o||(o=setTimeout((()=>{o=null,i(n)}),s-a)))},()=>n&&i(n)]}((n=>{const s=n.loaded,i=n.lengthComputable?n.total:void 0,a=s-o,c=r(a);o=s,e({loaded:s,total:i,progress:i?s/i:void 0,bytes:a,rate:c||void 0,estimated:c&&i&&s<=i?(i-s)/c:void 0,event:n,lengthComputable:null!=i,[t?"download":"upload"]:!0})}),n)},Qe=(e,t)=>{const n=null!=e;return[o=>t[0]({lengthComputable:n,total:e,loaded:o}),t[1]]},Xe=e=>(...t)=>ue.asap((()=>e(...t))),Ze=De.hasStandardBrowserEnv?function(){const e=De.navigator&&/(msie|trident)/i.test(De.navigator.userAgent),t=document.createElement("a");let n;function o(n){let o=n;return e&&(t.setAttribute("href",o),o=t.href),t.setAttribute("href",o),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=o(window.location.href),function(e){const t=ue.isString(e)?o(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0},et=De.hasStandardBrowserEnv?{write(e,t,n,o,r,s){const i=[e+"="+encodeURIComponent(t)];ue.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),ue.isString(o)&&i.push("path="+o),ue.isString(r)&&i.push("domain="+r),!0===s&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function tt(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const nt=e=>e instanceof We?{...e}:e;function ot(e,t){t=t||{};const n={};function o(e,t,n){return ue.isPlainObject(e)&&ue.isPlainObject(t)?ue.merge.call({caseless:n},e,t):ue.isPlainObject(t)?ue.merge({},t):ue.isArray(t)?t.slice():t}function r(e,t,n){return ue.isUndefined(t)?ue.isUndefined(e)?void 0:o(void 0,e,n):o(e,t,n)}function s(e,t){if(!ue.isUndefined(t))return o(void 0,t)}function i(e,t){return ue.isUndefined(t)?ue.isUndefined(e)?void 0:o(void 0,e):o(void 0,t)}function a(n,r,s){return s in t?o(n,r):s in e?o(void 0,n):void 0}const c={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:a,headers:(e,t)=>r(nt(e),nt(t),!0)};return ue.forEach(Object.keys(Object.assign({},e,t)),(function(o){const s=c[o]||r,i=s(e[o],t[o],o);ue.isUndefined(i)&&s!==a||(n[o]=i)})),n}const rt=e=>{const t=ot({},e);let n,{data:o,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:a,auth:c}=t;if(t.headers=a=We.from(a),t.url=Re(tt(t.baseURL,t.url),e.params,e.paramsSerializer),c&&a.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),ue.isFormData(o))if(De.hasStandardBrowserEnv||De.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(n=a.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(De.hasStandardBrowserEnv&&(r&&ue.isFunction(r)&&(r=r(t)),r||!1!==r&&Ze(t.url))){const e=s&&i&&et.read(i);e&&a.set(s,e)}return t},st="undefined"!=typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const o=rt(e);let r=o.data;const s=We.from(o.headers).normalize();let i,a,c,l,u,{responseType:d,onUploadProgress:f,onDownloadProgress:p}=o;function h(){l&&l(),u&&u(),o.cancelToken&&o.cancelToken.unsubscribe(i),o.signal&&o.signal.removeEventListener("abort",i)}let m=new XMLHttpRequest;function g(){if(!m)return;const o=We.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());Je((function(e){t(e),h()}),(function(e){n(e),h()}),{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:o,config:e,request:m}),m=null}m.open(o.method.toUpperCase(),o.url,!0),m.timeout=o.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new he("Request aborted",he.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new he("Network Error",he.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const r=o.transitional||_e;o.timeoutErrorMessage&&(t=o.timeoutErrorMessage),n(new he(t,r.clarifyTimeoutError?he.ETIMEDOUT:he.ECONNABORTED,e,m)),m=null},void 0===r&&s.setContentType(null),"setRequestHeader"in m&&ue.forEach(s.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),ue.isUndefined(o.withCredentials)||(m.withCredentials=!!o.withCredentials),d&&"json"!==d&&(m.responseType=o.responseType),p&&([c,u]=Ye(p,!0),m.addEventListener("progress",c)),f&&m.upload&&([a,l]=Ye(f),m.upload.addEventListener("progress",a),m.upload.addEventListener("loadend",l)),(o.cancelToken||o.signal)&&(i=t=>{m&&(n(!t||t.type?new Ge(null,e,m):t),m.abort(),m=null)},o.cancelToken&&o.cancelToken.subscribe(i),o.signal&&(o.signal.aborted?i():o.signal.addEventListener("abort",i)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(o.url);y&&-1===De.protocols.indexOf(y)?n(new he("Unsupported protocol "+y+":",he.ERR_BAD_REQUEST,e)):m.send(r||null)}))},it=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,o=new AbortController;const r=function(e){if(!n){n=!0,i();const t=e instanceof Error?e:this.reason;o.abort(t instanceof he?t:new Ge(t instanceof Error?t.message:t))}};let s=t&&setTimeout((()=>{s=null,r(new he(`timeout ${t} of ms exceeded`,he.ETIMEDOUT))}),t);const i=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(r):e.removeEventListener("abort",r)})),e=null)};e.forEach((e=>e.addEventListener("abort",r)));const{signal:a}=o;return a.unsubscribe=()=>ue.asap(i),a}},at=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let o,r=0;for(;r<n;)o=r+t,yield e.slice(r,o),r=o},ct=(e,t,n,o)=>{const r=async function*(e,t){for await(const n of async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}}(e))yield*at(n,t)}(e,t);let s,i=0,a=e=>{s||(s=!0,o&&o(e))};return new ReadableStream({async pull(e){try{const{done:t,value:o}=await r.next();if(t)return a(),void e.close();let s=o.byteLength;if(n){let e=i+=s;n(e)}e.enqueue(new Uint8Array(o))}catch(e){throw a(e),e}},cancel:e=>(a(e),r.return())},{highWaterMark:2})},lt="function"==typeof fetch&&"function"==typeof Request&&"function"==typeof Response,ut=lt&&"function"==typeof ReadableStream,dt=lt&&("function"==typeof TextEncoder?(ft=new TextEncoder,e=>ft.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var ft;const pt=(e,...t)=>{try{return!!e(...t)}catch(e){return!1}},ht=ut&&pt((()=>{let e=!1;const t=new Request(De.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),mt=ut&&pt((()=>ue.isReadableStream(new Response("").body))),gt={stream:mt&&(e=>e.body)};var yt;lt&&(yt=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!gt[e]&&(gt[e]=ue.isFunction(yt[e])?t=>t[e]():(t,n)=>{throw new he(`Response type '${e}' is not supported`,he.ERR_NOT_SUPPORT,n)})})));const wt={http:null,xhr:st,fetch:lt&&(async e=>{let{url:t,method:n,data:o,signal:r,cancelToken:s,timeout:i,onDownloadProgress:a,onUploadProgress:c,responseType:l,headers:u,withCredentials:d="same-origin",fetchOptions:f}=rt(e);l=l?(l+"").toLowerCase():"text";let p,h=it([r,s&&s.toAbortSignal()],i);const m=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let g;try{if(c&&ht&&"get"!==n&&"head"!==n&&0!==(g=await(async(e,t)=>{const n=ue.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(ue.isBlob(e))return e.size;if(ue.isSpecCompliantForm(e)){const t=new Request(De.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return ue.isArrayBufferView(e)||ue.isArrayBuffer(e)?e.byteLength:(ue.isURLSearchParams(e)&&(e+=""),ue.isString(e)?(await dt(e)).byteLength:void 0)})(t):n})(u,o))){let e,n=new Request(t,{method:"POST",body:o,duplex:"half"});if(ue.isFormData(o)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=Qe(g,Ye(Xe(c)));o=ct(n.body,65536,e,t)}}ue.isString(d)||(d=d?"include":"omit");const r="credentials"in Request.prototype;p=new Request(t,{...f,signal:h,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:o,duplex:"half",credentials:r?d:void 0});let s=await fetch(p);const i=mt&&("stream"===l||"response"===l);if(mt&&(a||i&&m)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=s[t]}));const t=ue.toFiniteNumber(s.headers.get("content-length")),[n,o]=a&&Qe(t,Ye(Xe(a),!0))||[];s=new Response(ct(s.body,65536,n,(()=>{o&&o(),m&&m()})),e)}l=l||"text";let y=await gt[ue.findKey(gt,l)||"text"](s,e);return!i&&m&&m(),await new Promise(((t,n)=>{Je(t,n,{data:y,headers:We.from(s.headers),status:s.status,statusText:s.statusText,config:e,request:p})}))}catch(t){if(m&&m(),t&&"TypeError"===t.name&&/fetch/i.test(t.message))throw Object.assign(new he("Network Error",he.ERR_NETWORK,e,p),{cause:t.cause||t});throw he.from(t,t&&t.code,e,p)}})};ue.forEach(wt,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(e){}Object.defineProperty(e,"adapterName",{value:t})}}));const bt=e=>`- ${e}`,vt=e=>ue.isFunction(e)||null===e||!1===e,Et=e=>{e=ue.isArray(e)?e:[e];const{length:t}=e;let n,o;const r={};for(let s=0;s<t;s++){let t;if(n=e[s],o=n,!vt(n)&&(o=wt[(t=String(n)).toLowerCase()],void 0===o))throw new he(`Unknown adapter '${t}'`);if(o)break;r[t||"#"+s]=o}if(!o){const e=Object.entries(r).map((([e,t])=>`adapter ${e} `+(!1===t?"is not supported by the environment":"is not available in the build")));let n=t?e.length>1?"since :\n"+e.map(bt).join("\n"):" "+bt(e[0]):"as no adapter specified";throw new he("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return o};function St(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ge(null,e)}function Tt(e){return St(e),e.headers=We.from(e.headers),e.data=Ve.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Et(e.adapter||Be.adapter)(e).then((function(t){return St(e),t.data=Ve.call(e,e.transformResponse,t),t.headers=We.from(t.headers),t}),(function(t){return ze(t)||(St(e),t&&t.response&&(t.response.data=Ve.call(e,e.transformResponse,t.response),t.response.headers=We.from(t.response.headers))),Promise.reject(t)}))}const Ot={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Ot[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const Rt={};Ot.transitional=function(e,t,n){function o(e,t){return"[Axios v1.7.7] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,r,s)=>{if(!1===e)throw new he(o(r," has been removed"+(t?" in "+t:"")),he.ERR_DEPRECATED);return t&&!Rt[r]&&(Rt[r]=!0,console.warn(o(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,s)}};const Pt={assertOptions:function(e,t,n){if("object"!=typeof e)throw new he("options must be an object",he.ERR_BAD_OPTION_VALUE);const o=Object.keys(e);let r=o.length;for(;r-- >0;){const s=o[r],i=t[s];if(i){const t=e[s],n=void 0===t||i(t,s,e);if(!0!==n)throw new he("option "+s+" must be "+n,he.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new he("Unknown option "+s,he.ERR_BAD_OPTION)}},validators:Ot},_t=Pt.validators;class At{constructor(e){this.defaults=e,this.interceptors={request:new Pe,response:new Pe}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=new Error;const n=t.stack?t.stack.replace(/^.+\n/,""):"";try{e.stack?n&&!String(e.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(e.stack+="\n"+n):e.stack=n}catch(e){}}throw e}}_request(e,t){"string"==typeof e?(t=t||{}).url=e:t=e||{},t=ot(this.defaults,t);const{transitional:n,paramsSerializer:o,headers:r}=t;void 0!==n&&Pt.assertOptions(n,{silentJSONParsing:_t.transitional(_t.boolean),forcedJSONParsing:_t.transitional(_t.boolean),clarifyTimeoutError:_t.transitional(_t.boolean)},!1),null!=o&&(ue.isFunction(o)?t.paramsSerializer={serialize:o}:Pt.assertOptions(o,{encode:_t.function,serialize:_t.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=r&&ue.merge(r.common,r[t.method]);r&&ue.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete r[e]})),t.headers=We.concat(s,r);const i=[];let a=!0;this.interceptors.request.forEach((function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));const c=[];let l;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let u,d=0;if(!a){const e=[Tt.bind(this),void 0];for(e.unshift.apply(e,i),e.push.apply(e,c),u=e.length,l=Promise.resolve(t);d<u;)l=l.then(e[d++],e[d++]);return l}u=i.length;let f=t;for(d=0;d<u;){const e=i[d++],t=i[d++];try{f=e(f)}catch(e){t.call(this,e);break}}try{l=Tt.call(this,f)}catch(e){return Promise.reject(e)}for(d=0,u=c.length;d<u;)l=l.then(c[d++],c[d++]);return l}getUri(e){return Re(tt((e=ot(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}ue.forEach(["delete","get","head","options"],(function(e){At.prototype[e]=function(t,n){return this.request(ot(n||{},{method:e,url:t,data:(n||{}).data}))}})),ue.forEach(["post","put","patch"],(function(e){function t(t){return function(n,o,r){return this.request(ot(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:o}))}}At.prototype[e]=t(),At.prototype[e+"Form"]=t(!0)}));const Ct=At;class Lt{constructor(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const o=new Promise((e=>{n.subscribe(e),t=e})).then(e);return o.cancel=function(){n.unsubscribe(t)},o},e((function(e,o,r){n.reason||(n.reason=new Ge(e,o,r),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Lt((function(t){e=t})),cancel:e}}}const Nt=Lt,xt={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(xt).forEach((([e,t])=>{xt[t]=e}));const kt=xt,Dt=function e(t){const n=new Ct(t),o=w(Ct.prototype.request,n);return ue.extend(o,Ct.prototype,n,{allOwnKeys:!0}),ue.extend(o,n,null,{allOwnKeys:!0}),o.create=function(n){return e(ot(t,n))},o}(Be);Dt.Axios=Ct,Dt.CanceledError=Ge,Dt.CancelToken=Nt,Dt.isCancel=ze,Dt.VERSION="1.7.7",Dt.toFormData=be,Dt.AxiosError=he,Dt.Cancel=Dt.CanceledError,Dt.all=function(e){return Promise.all(e)},Dt.spread=function(e){return function(t){return e.apply(null,t)}},Dt.isAxiosError=function(e){return ue.isObject(e)&&!0===e.isAxiosError},Dt.mergeConfig=ot,Dt.AxiosHeaders=We,Dt.formToJSON=e=>Ie(ue.isHTMLForm(e)?new FormData(e):e),Dt.getAdapter=Et,Dt.HttpStatusCode=kt,Dt.default=Dt;const It=Dt;class $t extends Error{static hasErrorNotificationBeenTriggered=!1;constructor(e,t){super(),Object.assign(e,t),this.name="OctoFarm Error",this.type=e.type,this.code=e.code,this.message=e.message,this.errors=e.errors,this.meta=e.meta,this.statusCode=e.statusCode,this.color=e.color,$t.hasErrorNotificationBeenTriggered=!0}}const Bt="CLIENT",Ut="SERVER",Mt="NETWORK",Ft="UNKNOWN",jt={BAD_REQUEST:{type:Mt,color:"danger",code:"BAD_REQUEST",message:"Bad request",statusCode:400},UNAUTHORIZED:{type:Mt,color:"danger",code:"UNAUTHORIZED",message:"Unauthorized",statusCode:401},FORBIDDEN:{type:Mt,color:"danger",code:"FORBIDDEN",message:"Forbidden",statusCode:403},RESOURCE_NOT_FOUND:{type:Mt,color:"danger",code:"RESOURCE_NOT_FOUND",message:"Resource not found",statusCode:404},NO_CONNECTION:{type:Mt,color:"danger",code:"NO_CONNECTION",message:"No connection to resource available",statusCode:0},INTERNAL_SERVER_ERROR:{type:Ut,color:"danger",code:"INTERNAL_SERVER_ERROR",message:"Something went wrong, Please try again later.",statusCode:500},BAD_GATEWAY:{type:Ut,color:"danger",code:"BAD_GATEWAY",message:"Bad gateway",statusCode:502},SERVICE_UNAVAILABLE:{type:Ut,color:"danger",code:"SERVICE_UNAVAILABLE",message:"Service unavailable",statusCode:503},GATEWAY_TIMEOUT:{type:Ut,color:"danger",code:"GATEWAY_TIMEOUT",message:"Gateway timeout",statusCode:504},UNKNOWN:{type:Ut,color:"danger",code:"UNKNOWN",message:"Unknown Error Response",statusCode:999}},Ht={FAILED_VALIDATION_PATH:{type:Bt,color:"danger",code:"FAILED_VALIDATION_PATH",message:"Input validation failed, no path was supplied",statusCode:412},FAILED_VALIDATION_KEY:{type:Bt,color:"danger",code:"FAILED_VALIDATION_KEY",message:"Input validation failed, no key was supplied",statusCode:412},FAILED_STATE_UPDATE:{type:Bt,color:"warning",code:"FAILED_STATE_UPDATE",message:"There was an issue updating the printer state",statusCode:412},UNKNOWN_ERROR:{type:Ft,color:"danger",code:"UNKNOWN_ERROR",message:"We encountered an unknown error! Please help the developer out and send a issue report!",statusCode:999},SILENT_ERROR:{type:Ft,color:"danger",code:"SILENT_ERROR",message:"",statusCode:999}},qt=e=>{const{name:t,errors:n}=e;let o=`<br>###${t}###<br>`;for(const e in n)o+=`<br>#${e.toLocaleUpperCase()}#<br> ${n[e].message} <br>`;return o};It.interceptors.request.use((function(e){return Wt.validatePath(e.url),e}),(function(e){return Promise.reject(e)})),It.interceptors.response.use((function(e){return e}),(function(e){var t,n;if(window.serverOffline)return{data:!1};switch(null==e||null===(t=e.response)||void 0===t?void 0:t.status){case 0:throw new $t(jt.NO_CONNECTION);case 400:throw new $t(jt.BAD_REQUEST,{message:`${jt.BAD_REQUEST.message}: ${qt(e.response.data)}`});case 401:throw new $t(jt.UNAUTHORIZED);case 403:throw new $t(jt.FORBIDDEN);case 404:throw new $t(jt.RESOURCE_NOT_FOUND);case 500:throw new $t(jt.INTERNAL_SERVER_ERROR,{message:`${jt.INTERNAL_SERVER_ERROR.message}: ${e.response.statusText}`});case 502:throw new $t(jt.BAD_GATEWAY);case 503:throw new $t(jt.SERVICE_UNAVAILABLE,{message:`${jt.SERVICE_UNAVAILABLE.message}: ${e.response.statusText}`});case 504:throw new $t(jt.GATEWAY_TIMEOUT);default:throw new $t(jt.UNKNOWN,{message:`${jt.UNKNOWN.message}: ${null==e||null===(n=e.response)||void 0===n?void 0:n.statusText}`})}}));class Wt{static base="/api";static printerRoute="/printers";static disablePrinterRoute=this.printerRoute+"/disable";static enablePrinterRoute=this.printerRoute+"/enable";static generatePrinterNameRoute=this.printerRoute+"/generate_printer_name";static updateUserActionsLogRoute=this.printerRoute+"/logUserPrintAction";static updateActiveUserRoute=this.printerRoute+"/updateActiveUser";static printerStepChangeRoute=this.printerRoute+"/stepChange";static forceReconnectRoute=this.printerRoute+"/forceReconnect";static serverSettingsRoute="/settings/server";static clientSettingsRoute="/settings/client";static filamentRoute="/filament";static filamentStatistics=`${this.filamentRoute}/get/statistics`;static filamentProfiles=`${this.filamentRoute}/get/profile`;static filamentSpools=`${this.filamentRoute}/get/filament`;static logsRoute=`${this.serverSettingsRoute}/logs`;static updateSettingsRoute=`${this.serverSettingsRoute}/update`;static fireLogToServerRoute=`${this.clientSettingsRoute}/logs`;static userRoute="/users/users";static healthCheckRoute=`${this.printerRoute}/healthChecks`;static farmOverviewRoute=`${this.printerRoute}/farmOverview`;static connectionOverviewRoute=`${this.printerRoute}/connectionOverview`;static selectedFilamentRoute=`${this.printerRoute}/selectedFilament`;static validatePath(e){if(!e){const e=new URL(path,window.location.origin);throw new $t(Ht.FAILED_VALIDATION_PATH,{message:`${Ht.FAILED_VALIDATION_PATH} ${e}`})}}static async getPrinter(e){if(!e)throw new Error("Cant fetch printer without defined 'id' input");const t={i:e};return this.post(`${this.printerRoute}/printerInfo/`,t)}static async getPrinterName(){return this.get(this.generatePrinterNameRoute)}static async forceReconnect(e){const t={id:e};return this.post(this.forceReconnectRoute,t)}static async listPrinters(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=`${this.printerRoute}/printerInfo`;return e&&(n+="?disabled=true"),t&&(n+="?fullList=true"),this.post(n)}static async disablePrinter(e){const t={idList:e};return this.post(`${this.disablePrinterRoute}`,t)}static async enablePrinter(e){const t={idList:e};return this.post(`${this.enablePrinterRoute}`,t)}static async refreshPrinterSettings(e){const t={i:e};return this.post(`${this.printerRoute}/updatePrinterSettings`,t)}static async generateLogDump(){return this.post(`${this.logsRoute}/generateLogDump`,{})}static async deleteLogFile(e){return this.delete(`${this.logsRoute}/${e}`)}static async clearOldLogs(){return this.delete(`${this.logsRoute}/clear-old`)}static async getHistoryStatistics(){return this.get("history/statisticsData")}static async getClientSettings(){return this.get("settings/client/get")}static async getServerSettings(){return this.get(`${this.serverSettingsRoute}/get`)}static async getSelectedFilament(e){return this.get(`${this.selectedFilamentRoute}/${e}`)}static async setPrinterSteps(e,t){return this.post("printers/stepChange",{printer:e,newSteps:t})}static async getUser(e){return this.get(`${this.userRoute}/${e}`)}static async createNewUser(e){return this.post(`${this.userRoute}`,e)}static async editUser(e,t){return this.patch(`${this.userRoute}/${e}`,t)}static async deleteUser(e){return this.delete(`${this.userRoute}/${e}`)}static async resetUserPassword(e,t){return this.patch(`${this.userRoute}/${e}`,t)}static async getFilamentStatistics(){return this.get(this.filamentStatistics)}static async getFilamentSpools(){return this.get(this.filamentSpools)}static async getFilamentProfiles(){return this.get(this.filamentProfiles)}static async updateServerSettings(e){return this.post(this.updateSettingsRoute,e)}static async restartServer(){return this.post(`${this.serverSettingsRoute}/restart`,{})}static async getCustomGcode(e){let t="settings/customGcode";return e&&(t=`${t}/${e}`),this.get(t)}static async getOctoPrintUniqueFolders(){return this.get(`${this.printerRoute}/listUniqueFolders`)}static getCurrentOpState(){return this.get("client/currentOpSorting")}static getHealthChecks(){return this.get(this.healthCheckRoute)}static getFarmOverview(){return this.get(this.farmOverviewRoute)}static getConnectionOverview(){return this.get(this.connectionOverviewRoute)}static async sendError(e){try{await this.post(this.fireLogToServerRoute,e)}catch(e){console.error(e.toString())}}static updateCurrentOpState(e){let{iterie:t,order:n}=e;return this.post("client/currentOpSorting",{iterie:t,order:n})}static async updateActiveControlUser(e){try{await this.patch(`${this.updateActiveUserRoute}/${e}`)}catch(e){console.error("Unable to update active control user!",e.toString())}}static async updateUserActionsLog(e,t){try{await this.post(`${this.updateUserActionsLogRoute}/${e}`,t)}catch(e){console.error("Unable to update user actions log!",e.toString())}}static async get(e){const t=new URL(e,window.location.origin).href;return It.get(t).then((e=>e.data))}static async post(e,t){const n=new URL(e,window.location.origin).href;return It.post(n,t).then((e=>e.data))}static async delete(e){const t=new URL(e,window.location.origin).href;return It.delete(t).then((e=>e.data))}static async patch(e,t){const n=new URL(e,window.location.origin).href;return It.patch(n,t).then((e=>e.data))}}function Vt(e){const{printerState:{colour:{category:t}}}=e;return t}function zt(e){return!(function(e){const{disabled:t}=e;return t}(e)||!function(e){const{fullyScanned:t}=e;return t}(e)||function(e){return"Info"===Vt(e)}(e)||function(e){return"Offline"===Vt(e)}(e))}function Kt(e){const{powerSettings:{powerOnCommand:t}={}}=e||{};return!!t||""!==t}const Gt="danger";async function Jt(e,t){let n="Your OctoPrint instance will "+t;if(["reboot","shutdown"].includes(t)&&(n="Your OctoPrint host will "+t),"Active"!==e.printerState.colour.category){let o=await Xt.systemNoConfirm(e,t);return await y.delay(1e3),void 0!==o?204===o.status?{status:"success",message:n}:{status:Gt,message:"OctoPrint responded with a status of: "+o.status+"... please check your power settings in the printer settings modal"}:{status:Gt,message:"Couldn't contact OctoPrint, is it online?"}}return{status:"skipped",message:"Skipped because printer wasn't in idle state..."}}class Yt{static async printerIsPoweredOn(e){let t=!1;const n=await Xt.getPowerStatus(e,e.powerSettings.powerStatusURL,e.powerSettings.powerStatusCommand);return n&&(t=n[Object.keys(n)[0]],"string"==typeof t&&("off"===t&&(t=!1),"on"===t&&(t=!0))),await Wt.post("/printers/overridepower/"+e._id,{printerPowerState:t}),t}static async revealPowerButtons(e){if(e.disabled)return;const t=function(e){const{otherSettings:{commands:{serverRestartCommand:t}={}}={}}=e||{};return!!t||""!==t}(e),n=function(e){const{otherSettings:{commands:{systemRestartCommand:t}={}}={}}=e||{};return!!t||""!==t}(e),o=function(e){const{otherSettings:{commands:{systemShutdownCommand:t}={}}={}}=e||{};return!!t||""!==t}(e),r=function(e){const{powerSettings:{powerOffCommand:t}={}}=e||{};return!!t||""!==t}(e),s=Kt(e),i=!!(a=e)||0===a.length;var a;const c=function(e){return!!zt(e)&&"Active"===Vt(e)}(e),l=document.getElementById("printerRestartOctoPrint-"+e._id);t&&(l.disabled=!t,y.removeDisplayNoneFromElement(l));const u=document.getElementById("printerRestartHost-"+e._id);n&&(u.disabled=!n,y.removeDisplayNoneFromElement(u));const d=document.getElementById("printerShutdownHost-"+e._id);o&&(d.disabled=!o,y.removeDisplayNoneFromElement(d));const f=document.getElementById("printerPowerOff-"+e._id),p=document.getElementById("printerPowerOn-"+e._id),h=document.getElementById(`powerState-${e._id}`);i&&Yt.updatePrinterPowerState(e.printerPowerState,h),r&&(f.disabled=i?c||!e.printerPowerState:c||i,y.removeDisplayNoneFromElement(f)),s&&(p.disabled=i?c||e.printerPowerState:c||i,y.removeDisplayNoneFromElement(p)),(t||o||n||r||s)&&y.removeDisplayNoneFromElement(document.getElementById("octoPrintHeader-"+e._id))}static setupEventListeners(e){document.getElementById(`printerRestartOctoPrint-${e._id}`).addEventListener("click",(async t=>{t.target.disabled=!0;const{status:n,message:o}=await Jt(e,"restart");y.createAlert(n,o,3e3,"Clicked"),t.target.disabled=!1})),document.getElementById(`printerRestartHost-${e._id}`).addEventListener("click",(async t=>{t.target.disabled=!0;const{status:n,message:o}=await Jt(e,"reboot");y.createAlert(n,o,3e3,"Clicked"),t.target.disabled=!1})),document.getElementById(`printerShutdownHost-${e._id}`).addEventListener("click",(async t=>{t.target.disabled=!0;const{status:n,message:o}=await Jt(e,"shutdown");y.createAlert(n,o,3e3,"Clicked"),t.target.disabled=!1})),document.getElementById(`printerPowerOff-${e._id}`).addEventListener("click",(t=>{t.target.disabled=!0,bootbox.confirm("Are you sure you'd like to power down your printer?",(async function(n){n&&(await Yt.sendPowerCommandForPrinter(e,e.powerSettings.powerOffURL,e.powerSettings.powerOffCommand,"power off"),t.target.disabled=!1)}))})),document.getElementById(`printerPowerOn-${e._id}`).addEventListener("click",(async t=>{t.target.disabled=!0,await Yt.sendPowerCommandForPrinter(e,e.powerSettings.powerOnURL,e.powerSettings.powerOnCommand,"power on"),t.target.disabled=!1}))}static updatePrinterPowerState(e,t){void 0!==e&&t&&(y.removeDisplayNoneFromElement(t),e||t.classList.contains("text-danger")||(t.classList.add("text-danger"),t.classList.remove("text-success")),e&&(t.classList.contains("text-success")||(t.classList.add("text-success"),t.classList.remove("text-danger"))))}static async sendPowerCommandForPrinter(e,t,n,o){const r=await Xt.sendPowerCommand(e,t,n,o);await y.delay(1e3);const s=document.getElementById(`powerState-${e._id}`);return Yt.updatePrinterPowerState(await Yt.printerIsPoweredOn(e),s),r}}const Qt=async e=>{const t=await(async e=>{const t=y.createAlert("warning","Attempting connect sequence! please wait...",0,"clicked");if(e.quickConnectSettings.powerPrinter&&await(async e=>{if(Kt(e)&&!await Yt.printerIsPoweredOn(e)){const t={action:"Printer: power on",status:(await Yt.sendPowerCommandForPrinter(e,e.powerSettings.powerOnURL,e.powerSettings.powerOnCommand,"power on")).status};await Wt.updateUserActionsLog(e._id,t),await y.delay(e.quickConnectSettings.connectAfterPowerTimeout)}})(e),e.quickConnectSettings.connectPrinter){var n,o,r;const s={command:"connect",port:null!=e&&null!==(n=e.connectionOptions)&&void 0!==n&&n.portPreference?e.connectionOptions.portPreference:"AUTO",baudrate:null!=e&&null!==(o=e.connectionOptions)&&void 0!==o&&o.baudratePreference?parseInt(e.connectionOptions.baudratePreference):0,printerProfile:null!=e&&null!==(r=e.connectionOptions)&&void 0!==r&&r.printerProfilePreference?e.connectionOptions.printerProfilePreference:"_default"};let i=await Xt.post(e,"connection",s);const a={action:"Printer: connected",status:null==i?void 0:i.status};return await Wt.updateUserActionsLog(e._id,a),t.close(),null==i?void 0:i.status}return t.close(),204})(e);return await Xt.updateFeedAndFlow(e),await Xt.updateFilamentOffsets(e),await Xt.updateBedOffsets(e),await Wt.updateActiveControlUser(e._id),t};class Xt{static validatePrinter(e){if(!e._id)throw new Error("Printer URL not provided")}static get(e,t){this.validatePrinter(e);const n=`/octoprint/${e._id}/${t}`;return fetch(n,{method:"GET"}).catch((e=>(console.error(e),e)))}static postNOAPI(e,t,n){this.validatePrinter(e);const o=`/octoprint/${e._id}/${t}`;return fetch(o,{method:"POST",body:JSON.stringify(n)}).catch((e=>(console.error(e),e)))}static post(e,t,n){this.validatePrinter(e);const o=`/octoprint/${e._id}/api/${t}`;return fetch(o,{method:"POST",body:JSON.stringify(n)}).catch((e=>(console.error(e),e)))}static folder(e,t,n){this.validatePrinter(e);const o=`/octoprint/${e._id}/api/files/${t}`;return fetch(o,{method:"POST",body:n}).catch((e=>(console.error(e),e)))}static async delete(e,t){this.validatePrinter(e);const n=`/octoprint/${e._id}/api/${t}`;return fetch(n,{method:"DELETE"}).catch((e=>(console.error(e),e)))}static async getLogs(e,t){this.validatePrinter(e);const n=`/octoprint/${e._id}/${t}`;return fetch(n,{method:"GET",headers:{"Content-Type":"application/json","X-Api-Key":e.apikey,Range:"bytes=-500000"}})}static async selectTool(e,t){const n={command:"select",tool:t},o=await Xt.post(e,"printer/tool",n),r={action:"Printer: tool select",opts:n,status:o.status};return await Wt.updateUserActionsLog(e._id,r),204===o.status}static async system(e,t){const n="system/commands/core/"+t;bootbox.confirm({message:`Are your sure you want to ${t} ${e.printerName}?`,buttons:{cancel:{label:'<i class="fa fa-times"></i> No'},confirm:{label:'<i class="fa fa-check"></i> Yes'}},async callback(o){if(o){const o=await Xt.post(e,n).catch((e=>{y.createAlert("danger",e,4e3,"Clicked")})),r={action:`OctoPrint: ${t}`,status:o.status};await Wt.updateUserActionsLog(e._id,r),204===o.status?y.createAlert("success",`${e.printerName}: ${t} was successful`,3e3,"clicked"):y.createAlert("error",`${e.printerName}: ${t} was unsuccessful. Please make sure printer is connected and commands are setup in Settings -> Server.`,3e3,"clicked")}}})}static async systemNoConfirm(e,t){const n="system/commands/core/"+t,o=Xt.post(e,n),r={action:`OctoPrint: ${t}`,status:o.status};return await Wt.updateUserActionsLog(e._id,r),o}static async move(e,t,n,o,r){const s=function(){e.target.classList="btn btn-light"};let i,a=await document.querySelectorAll("#pcAxisSteps > .btn.active");a=a[0].innerHTML;let c={};"home"===n?c={command:n,axes:o}:"jog"===n?(a=Number(void 0!==r?r+a:a),c={command:n,[o]:a}):"feedrate"===n&&(c={command:n,factor:a}),i=await Xt.post(t,"printer/printhead",c);const l={action:`Printer: ${n}`,opts:c,status:i.status};await Wt.updateUserActionsLog(t._id,l),204===i.status?(e.target.classList="btn btn-success",setTimeout(s,500)):(e.target.classList="btn btn-danger",setTimeout(s,500))}static async checkFile(e,t){const n="api/files/local/"+t;return(await Xt.get(e,n)).status}static async file(e,t,n){const o="files/local/"+t;if("load"===n){const r={command:"select",print:!1},s=await Xt.post(e,encodeURIComponent(o),r),i={action:`File: ${n}`,opts:r,fullPath:t,status:s.status};return await Wt.updateUserActionsLog(e._id,i),s}if("print"===n){const r={command:"select",print:!0};await Qt(e);const s=await Xt.post(e,encodeURIComponent(o),r),i={action:`File: ${n}`,opts:r,fullPath:t,status:s.status};return await Wt.updateUserActionsLog(e._id,i),s}if("delete"===n){const r=await Xt.delete(e,encodeURIComponent(o)),s={action:`File: ${n}`,fullPath:t,status:r.status};return await Wt.updateUserActionsLog(e._id,s),r}}static async updateFeedAndFlow(e){const t={command:"flowrate",factor:parseInt(e.flowRate)};await Xt.post(e,"printer/tool",t);const n={command:"feedrate",factor:parseInt(e.feedRate)};await Xt.post(e,"printer/printhead",n)}static async updateBedOffsets(e){if(null!=e.selectedFilament&&Array.isArray(e.selectedFilament)){var t,n;const o=parseInt(null==e||null===(t=e.selectedFilament[0])||void 0===t||null===(n=t.spools)||void 0===n?void 0:n.bedOffset);if(o){const t={command:"offset",offset:o};await Xt.post(e,"printer/bed",t)}}}static async updateFilamentOffsets(e){if(null!=e.selectedFilament&&Array.isArray(e.selectedFilament)){const t={command:"offset",offsets:{}};e.selectedFilament.forEach(((e,n)=>{null!=e&&(t.offsets["tool"+n]=parseInt(e.spools.tempOffset))})),await Xt.post(e,"printer/tool",t)}}static async jobAction(e,t,n){let o=await Wt.get("settings/server/get"),r=!1;void 0!==o.filament&&(r=o.filament.filamentCheck);let s=!1;if(null!==e.selectedFilament&&Array.isArray(e.selectedFilament))for(const t of e.selectedFilament)null===t&&(s=!0);if(!r||!s||"start"!==t.command){await Qt(e);const n=await Xt.post(e,"job",t),o={action:`Print: ${t.command}`,opts:t,status:n.status};return await Wt.updateUserActionsLog(e._id,o),n}bootbox.confirm({message:"You have spools in the inventory, but none selected. Would you like to select a spool?",buttons:{confirm:{label:"Yes",className:"btn-success"},cancel:{label:"No",className:"btn-danger"}},async callback(n){if(!n){await Qt(e);const{status:n}=await Xt.post(e,"job",t),o={action:`Print: ${t.command}`,opts:t,status:n};await Wt.updateUserActionsLog(e._id,o),(e=>{204===e||200===e||201===e?y.createAlert("success","Your undefined command was successful",3e3,"clicked"):409===e?y.createAlert("warning","There was a conflict, could not complete the undefined command.",3e3,"clicked"):y.createAlert("error","There was an error with your undefined command",3e3,"clicked")})(n)}}}),n&&(n.target.disabled=!1)}static async connect(e,t){let n;n="connect"===e?{command:"connect",port:document.getElementById("pmSerialPort").value,baudrate:parseInt(document.getElementById("pmBaudrate").value),printerProfile:document.getElementById("pmProfile").value,save:!0}:{command:"disconnect"};const o=await Xt.post(t,"connection",n),r={action:`Printer: ${n.command}`,opts:n,status:o.status};await Wt.updateUserActionsLog(t._id,r),void 0!==o&&204===o.status?(y.createAlert("success",`${t.printerName}: ${n.command}ion attempt was successful`,3e3,"click"),"connect"===e?(document.getElementById("pmSerialPort").disabled=!0,document.getElementById("pmBaudrate").disabled=!0,document.getElementById("pmProfile").disabled=!0):(document.getElementById("pmSerialPort").disabled=!1,document.getElementById("pmBaudrate").disabled=!1,document.getElementById("pmProfile").disabled=!1)):(document.getElementById("pmSerialPort").disabled=!1,document.getElementById("pmBaudrate").disabled=!1,document.getElementById("pmProfile").disabled=!1,y.createAlert("error",`${t.printerName}: could not ${n.command}.`,3e3,"click"))}static async sendPowerCommand(e,t,n,o){var r;const{printerName:s}=e;t.includes("[PrinterURL]")&&(t=t.replace("[PrinterURL]","")),t.includes("[PrinterAPI]")&&(t=t.replace("[PrinterAPI]",e.apikey)),t.includes(e.printerURL)&&(t=t.replace(e.printerURL,"")),t.includes("/api/")&&(t=t.replace("/api/",""));const i={action:`Printer: ${o}`,command:n};let a;if(void 0===n||0===n.length)try{a=await Xt.get(e,t),i.status=a.status,await Wt.updateUserActionsLog(e._id,i)}catch(t){y.createAlert("error",`${e.printerName}: Could not complete ${o} - Error: ${t}`,3e3);const n=Ht.SILENT_ERROR;throw n.message=`Bulk Commands - ${t}`,new $t(n)}else try{a=await Xt.post(e,t,JSON.parse(n)),i.status=a.status,await Wt.updateUserActionsLog(e._id,i)}catch(t){y.createAlert("error",`${e.printerName}: Could not complete ${o} - Error: ${t}`,3e3);const n=Ht.SILENT_ERROR;throw n.message=`Bulk Commands - ${t}`,new $t(n)}return null!==(r=a)&&void 0!==r&&r.ok?y.createAlert("success",`${s}: Successfully ${o}!`,3e3,"Clicked"):y.createAlert("error",`${s}: Failed to complete ${o}<br> Status: ${a.statusText}`,3e3,"Clicked"),"done"}static async getPowerStatus(e,t,n){if(t.includes("[PrinterURL]")&&(t=t.replace("[PrinterURL]","")),t.includes("[PrinterAPI]")&&(t=t.replace("[PrinterAPI]",e.apikey)),t.includes(e.printerURL)&&(t=t.replace(e.printerURL,"")),t.includes("/api/")&&(t=t.replace("/api/","")),n&&0===n.length)try{let n=await Xt.get(e,t),o=!1;return 200===(null==n?void 0:n.status)||204===(null==n?void 0:n.status)?o=await n.json():console.warn(`Power Status - ${null!=n&&n.status?n.status:"No Status"} \n Message - ${null!=n&&n.statusMessage?n.statusMessage:"No Message"}`),o}catch(e){const t=Ht.SILENT_ERROR;throw t.message=`Power Status - ${e}`,console.warn(`Power Status - ${e}`),new $t(t)}else try{let o=await Xt.post(e,t,JSON.parse(n)),r=!1;return 200===(null==o?void 0:o.status)||204===(null==o?void 0:o.status)?r=await o.json():console.warn(`Power Status - ${null!=o&&o.status?o.status:"No Status"} \n Message - ${null!=o&&o.statusMessage?o.statusMessage:"No Message"}`),r}catch(e){const t=Ht.SILENT_ERROR;throw t.message=`Power Status - ${e}`,console.warn(`Power Status - ${e}`),new $t(t)}}}const Zt="/mon/currentOp"===window.location.pathname;const en=async()=>{if(location.href.includes("submitEnvironment")){const e=window.location.protocol+"//"+window.location.host;window.location.replace(e)}else window.location.reload()};let tn=!1,nn=!1,on=5;const rn={seconds:3,get getSeconds(){return this.seconds},set setSeconds(e){this.seconds=e}},sn=e=>{on=e;const t=document.getElementById("lostServerConnectionTimer");tn||(tn=setInterval((()=>{on<=1?(t.innerHTML="Now!",clearInterval(tn),tn=!1):(on--,t.innerHTML=`${on} seconds...`)}),1e3))},an=async()=>{document.getElementById("forceRefreshPageButton").addEventListener("click",(()=>{en()})),nn||(nn=setTimeout((()=>{$("#lostServerConnection").modal("show"),nn=!1}),5e3))};let cn;const ln=function(e,t){let n,o;return function(){var r;o=(r=t)&&"[object Function]"==={}.toString.call(r)?t:function(){return t};const s=this,i=arguments;clearTimeout(n),n=setTimeout((function(){n=null,e.apply(s,i)}),o())}}((function(){un(),rn.setSeconds=2*rn.getSeconds,rn.getSeconds>=64&&(rn.setSeconds=64)}),(function(){return 1e3*rn.getSeconds}));function un(){cn=new EventSource("/events"),cn.onmessage=async function(e){const{type:n,message:o,id:r}=await async function(e){try{return((e,n)=>{const o=t(e,u).map(l),r=o[0],s=n||c,i=typeof r===a&&r?d(o,new Set,r,s):r;return s.call({"":i},"",i)})(e)}catch(e){return!1}}(e.data);if(n===f.MESSAGE_TYPES.AM_I_ALIVE&&await(async e=>{window.serverOffline=!1;const t=document.getElementById("lostServerConnection");if(t&&t.className.includes("show")){let t="";t=null!=e&&e.loginRequired?"Server is alive, reloading screen...":"Server is alive!",document.getElementById("lostServerConnectionTimer").innerHTML=t,null!=e&&e.loginRequired?await en():await(async()=>{$("#lostServerConnection").modal("hide")})()}})(o),n===f.MESSAGE_TYPES.FILE_UPDATE&&await function(e,t){if(e&&t&&document.getElementById(`file-${e}`)){const{expectedPrintTime:n,failed:o,fileSize:r,printCost:s,success:i,thumbnail:a,toolCosts:c,toolUnits:l,uploadDate:u,electricityCosts:d,maintenanceCosts:f}=t.value;((e,t,n)=>{if(e&&t&&n){const o=document.getElementById(`fileHistoryRate-${e}`);y.doesElementNeedUpdating(`<i class="fas fa-thumbs-up"></i> ${t} / <i class="fas fa-thumbs-down"></i> ${n}`,o,"innerHTML")}})(e,i,o),((e,t)=>{if(e&&t){const n=document.getElementById(`fileTime-${e}`);y.doesElementNeedUpdating(`${p.generateTime(t)}`,n,"innerHTML")}})(e,n),((e,t)=>{if(e&&t){const n=document.getElementById(`fileCost-${e}`);y.doesElementNeedUpdating(`Print Cost: ${null==t?void 0:t.toFixed(2)}`,n,"innerHTML")}})(e,s),((e,t,n)=>{if(e&&t&&n){const o=document.getElementById(`fileTool-${e}`);let r="";t.forEach(((e,t)=>{r+=`<i class="fas fa-weight"></i> ${e} / <i class="fas fa-dollar-sign"></i> Cost: ${n[t]}<br>`})),y.doesElementNeedUpdating(r,o,"innerHTML")}})(e,l,c),((e,t)=>{if(e&&t){const n=document.getElementById(`fileDate-${e}`);let o=new Date(1e3*t);const r=o.toDateString(),s=o.toTimeString().substring(0,8);y.doesElementNeedUpdating(`${r} ${s}`,n,"innerHTML")}})(e,u),((e,t)=>{if(e&&t){const n=document.getElementById(`fileSize-${e}`);y.doesElementNeedUpdating(p.bytes(t),n,"innerHTML")}})(e,r),((e,t)=>{if(e&&t){const n=document.getElementById(`fileElectricityCost-${e}`);y.doesElementNeedUpdating(t.toFixed(2),n,"innerHTML")}})(e,d),((e,t)=>{if(e&&t){const n=document.getElementById(`fileMaintainenceCost-${e}`);y.doesElementNeedUpdating(t.toFixed(2),n,"innerHTML")}})(e,f);const{additionalInformation:h}=t;h&&((e,t,n)=>{if(e&&(console.log(n),t&&n)){const o=document.getElementById(`fileThumbnail-${e}`),r=`<span class="text-center"><img src='/octoprint/${n}/${t}' width="100%" alt="thumbnail"></span>`;y.doesElementNeedUpdating(r,o,"innerHTML")}})(e,a,h.printerID)}}(r,o),n===f.MESSAGE_TYPES.CURRENT_OPERATIONS){const{operations:e,count:t}=o;await function(e,t){if(document.getElementById("currentOperationsPanel")&&(e&&0!==e.length||document.querySelectorAll("[id^='coCard-']").forEach((e=>{e.remove()})),document.getElementById("completeCount").innerHTML=null!=t&&t.complete?"Complete: "+t.complete:"Complete: 0",document.getElementById("idleCount").innerHTML=null!=t&&t.idle?"Idle: "+t.idle:"Idle: 0",document.getElementById("activeCount").innerHTML=null!=t&&t.active?"Active: "+t.active:"Active: 0",document.getElementById("disconCount").innerHTML=null!=t&&t.disconnected?"Disconnected: "+t.disconnected:"Disconnected: 0",document.getElementById("offlineCount").innerHTML=null!=t&&t.offline?"Offline: "+t.offline:"Offline: 0",document.getElementById("farmProgress").innerHTML=null!=t&&t.farmProgress?t.farmProgress+"%":"0%",document.getElementById("farmProgress").style=`width: ${null!=t&&t.farmProgress?t.farmProgress:0}%`,document.getElementById("farmProgress").classList=`progress-bar progress-bar-striped bg-${null==t?void 0:t.farmProgressColour}`,e)){e.forEach(((e,t)=>{let n=new Date;n=n.getTime();const o=new Date(n+1e3*e.timeRemaining).toDateString();let r=new Date(n+1e3*e.timeRemaining).toTimeString();r=r.substring(0,5);const s=o+": "+r,i=`<button id='currentHarvest-${e.index}' type='button' title="Clear your finished print from current operations" class='tag btn btn-success btn-sm mt-0 pt-0 pb-0'>Print Harvested?</button>`,a=`<button id='restartCurrentPrint-${e.index}' type='button' title="Restart your current selected print" class='tag btn btn-warning btn-sm mt-0 pt-0 pb-0'>Restart Print</button>`;let c=null;if(void 0!==typeof e.fileName&&(c=e.fileName.replace(".gcode",""),c.length>40&&(c=c.substring(0,40)+"...")),document.getElementById(`coCard-${e.index}`)){100===e.progress?(document.getElementById("finishedPrint-"+e.index).classList.remove("d-none"),document.getElementById("futureDate-"+e.index).classList.add("d-none"),document.getElementById("currentRestart-"+e.index).classList.remove("d-none"),document.getElementById("currentTime-"+e.index).classList.add("d-none"),document.getElementById("currentProgressMain-"+e.index).classList.add("d-none")):(document.getElementById("finishedPrint-"+e.index).classList.add("d-none"),document.getElementById("futureDate-"+e.index).classList.remove("d-none"),document.getElementById("currentRestart-"+e.index).classList.add("d-none"),document.getElementById("currentTime-"+e.index).classList.remove("d-none"),document.getElementById("currentProgressMain-"+e.index).classList.remove("d-none"));const t=document.getElementById("currentProgress-"+e.index);document.getElementById("currentOpFile-"+e.index).innerHTML=c,document.getElementById("currentTime-"+e.index).innerHTML=p.generateTime(e.timeRemaining),document.getElementById("futureDate-"+e.index).innerHTML=s,t.style=`width: ${e.progress}%`,t.innerHTML=e.progress+"%",t.className=`progress-bar progress-bar-striped bg-${e.progressColour}`}else{let t="card card-block text-white bg-secondary d-inline-block  text-truncate",n="min-width: 200px; max-width: 200px;";Zt&&(t="col-sm-12 col-md-4 col-lg-3 col-xl-2 card card-block text-white bg-secondary d-inline-block  text-truncate",n=""),document.getElementById("currentOperationsBody").insertAdjacentHTML("beforeend",`\n                <div id="coCard-${e.index}"\n                class="${t}"\n                style="${n}"\n              >\n                  <div class="card-header pb-1 pt-1 pl-2 pr-2">\n                     ${e.name}</div>\n                  <div class="card-body  pb-0 pt-2 pl-2 pr-2">\n                  <h6 id="currentOpFile-${e.index}" class="pb-0 text-center" style="font-size:0.6rem;"> ${c} </h6>\n                  <h6 id="currentRestart-${e.index}" class="pb-0 text-center d-none" style="font-size:0.6rem;">${a}</h6>\n                  <h6 id="currentTime-${e.index}" class="pb-0 text-center" style="font-size:0.6rem;">${p.generateTime(e.timeRemaining)}</h6>\n        <h6 id="futureDate-${e.index}" class="pb-0 text-center" style="font-size:0.6rem;"> ${s} </h6>\n        <h6 id="finishedPrint-${e.index}" class="pb-0 text-center d-none" style="font-size:0.6rem;"> ${i} </h6>\n                    <div id="currentProgressMain-${e.index}" class="progress">\n                      <div id="currentProgress-${e.index}"\n                        class="progress-bar progress-bar-striped bg-${e.progressColour}"\n                        role="progressbar"\n                        style="width: ${e.progress}%"\n                        aria-valuenow="${e.progress}"\n                        aria-valuemin="0"\n                        aria-valuemax="100"\n                      >\n                      ${e.progress}%\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                `),document.getElementById("currentHarvest-"+e.index).addEventListener("click",(async()=>{await async function(e){const t=await Wt.getPrinter(e);await Xt.file(t,t.currentJob.filePath,"load")}(e.index)})),document.getElementById("restartCurrentPrint-"+e.index).addEventListener("click",(async()=>{await async function(e){const t=await Wt.getPrinter(e);await Xt.file(t,t.currentJob.filePath,"print")}(e.index)}))}document.getElementById("coCard-"+e.index).style.order=t}));const t=document.querySelectorAll("[id^='coCard-']"),n=[];e.forEach((e=>{n.push(e.index)}));const o=[];t.forEach((e=>{const t=e.id.split("-");o.push(t[1])})),_.difference(o,n).forEach((e=>{document.getElementById("coCard-"+e).remove()}))}}(e,t)}if(n===f.MESSAGE_TYPES.NEW_CAMERA_IMAGE){const{printerID:e,cameraURL:t}=o;await((e,t)=>{const n=document.getElementById(`camera-${e}`);n&&(n.src=t);const o=document.getElementById(`cameraModal-${e}`);o&&(o.src=t);const r=document.querySelectorAll('*[id^="printerCameraControl"]');if(r.length>0){const n=_.findIndex(r,(function(t){return t.id.split("-")[1]===e}));r[n]&&(r[n].src=t)}})(e,t)}},cn.onopen=function(e){console.debug("Connected to servers event stream..."),rn.setSeconds=3},cn.onerror=async function(e){window.serverOffline=!0,console.debug("Server connection lost! Re-connecting in... "+rn.getSeconds+"s"),sn(rn.getSeconds),console.error(e),await an(),cn.close(),ln();const t=Ht.SILENT_ERROR;throw t.message=`Events Service - ${e.target.url}: ${e.target.readyState}`,new $t(t)},cn.onclose=async function(e){window.serverOffline=!0,console.debug("Server connection closed! Re-establishing..."+rn.getSeconds+"s"),sn(rn.getSeconds),console.warn(e),await an(),cn.close(),ln()}}un()})()})();
//# sourceMappingURL=events.service.1.7.3.min.js.map